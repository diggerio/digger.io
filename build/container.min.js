/*! digger.io 06-07-2013 */
!function(a,b,c){function d(c,f){if(!b[c]){if(!a[c]){var g="function"==typeof require&&require;if(!f&&g)return g(c,!0);if(e)return e(c,!0);throw new Error("Cannot find module '"+c+"'")}var h=b[c]={exports:{}};a[c][0].call(h.exports,function(b){var e=a[c][1][b];return d(e?e:b)},h,h.exports)}return b[c].exports}for(var e="function"==typeof require&&require,f=0;f<c.length;f++)d(c[f]);return d}({1:[function(a,b){b.exports={name:"digger.io",version:"0.0.12",description:"develop databases like a boss",main:"src/index.js",directories:{doc:"docs"},scripts:{test:"grunt test"},repository:{type:"git",url:"https://github.com/binocarlos/digger.io.git"},keywords:["JQuery","database"],dependencies:{rationalnestedset:"*",async:"~0.2.7",lodash:"~1.2.0","node-uuid":"~1.4.0","escape-html":"*",xtend:"~2.0.3",xmldom:"~0.1.15",q:"~0.9.3",dispatch:"~0.2.0",wrench:"~1.5.1",debug:"~0.7.2","js-yaml":"~2.0.5"},devDependencies:{grunt:"~0.4.1","grunt-exec":"*","grunt-contrib-jshint":"~0.4.1","grunt-mocha-test":"~0.2.2","grunt-contrib-concat":"~0.1.3","grunt-contrib-uglify":"~0.2.0","grunt-contrib-watch":"~0.3.1",chai:"*",mocha:"*","grunt-browserify":"~1.1.1"},author:"Kai Davenport",license:"MIT",readmeFilename:"README.md",gitHead:"85d7e6c9abb88cf6c9a22f39a3f4bd366dfe0857"}},{}],2:[function(a,b){var c=b.exports={};c.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){if(a.source===window&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var b=c.shift();b()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),c.title="browser",c.browser=!0,c.env={},c.argv=[],c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")}},{}],3:[function(a,b,c){!function(a){function b(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1}a.EventEmitter||(a.EventEmitter=function(){});var d=c.EventEmitter=a.EventEmitter,e="function"==typeof Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},f=10;d.prototype.setMaxListeners=function(a){this._events||(this._events={}),this._events.maxListeners=a},d.prototype.emit=function(a){if("error"===a&&(!this._events||!this._events.error||e(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var b=this._events[a];if(!b)return!1;if("function"==typeof b){switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:var c=Array.prototype.slice.call(arguments,1);b.apply(this,c)}return!0}if(e(b)){for(var c=Array.prototype.slice.call(arguments,1),d=b.slice(),f=0,g=d.length;g>f;f++)d[f].apply(this,c);return!0}return!1},d.prototype.addListener=function(a,b){if("function"!=typeof b)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",a,b),this._events[a])if(e(this._events[a])){if(!this._events[a].warned){var c;c=void 0!==this._events.maxListeners?this._events.maxListeners:f,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}this._events[a].push(b)}else this._events[a]=[this._events[a],b];else this._events[a]=b;return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){var c=this;return c.on(a,function d(){c.removeListener(a,d),b.apply(this,arguments)}),this},d.prototype.removeListener=function(a,c){if("function"!=typeof c)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[a])return this;var d=this._events[a];if(e(d)){var f=b(d,c);if(0>f)return this;d.splice(f,1),0==d.length&&delete this._events[a]}else this._events[a]===c&&delete this._events[a];return this},d.prototype.removeAllListeners=function(a){return 0===arguments.length?(this._events={},this):(a&&this._events&&this._events[a]&&(this._events[a]=null),this)},d.prototype.listeners=function(a){return this._events||(this._events={}),this._events[a]||(this._events[a]=[]),e(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]}}(a("__browserify_process"))},{__browserify_process:2}],4:[function(a){function b(){e.isFunction(arguments[0])&&(g?arguments[0].apply(b,[b]):h.push(arguments[0]))}var c=a("./proto"),d=a("../warehouse/supplychain"),e=a("lodash"),f=a("async"),g=!1,h=[],i=a("../../package.json").version;b.version=i,b._trigger_ready=function(){e.each(h,function(a){a.apply(b,[b])}),h=[]},b.bootstrap=function(a){a=e.defaults(a,{protocol:"http://",host:"digger.io",channel:null});var c=io.connect([a.protocol,a.host,"/",a.channel].join(""));c.on("connect",function(){b._trigger_ready()}),b.supplychain=d(function(a,b){c.emit("request",a.toJSON(),function(a){console.log("-------------------------------------------"),console.log("answer"),console.dir(a),b.fill(a)})})},b.connect=function(a){if(!this.supplychain)throw new Error("there is no supplychain - this means we are not yet connected - place code inside of $digger(function(){})");return b.supplychain.connect(a)},b.Proto=c,b.create=b.Proto.factory,b.config={},b.user=null,window.$diggerconfig&&(b.config=window.$diggerconfig,b.config.user&&(b.user=b.create(b.config.user))),window._=e,window.async=f,window.$digger=b},{"../../package.json":1,"./proto":5,"../warehouse/supplychain":6,lodash:7,async:8}],9:[function(a,b,c){function d(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]==b)return c;return-1}function e(a,b,c){if(a&&"object"==typeof a&&a.href)return a;if("string"!=typeof a)throw new TypeError("Parameter 'url' must be a string, not "+typeof a);for(var e={},g=a,h=0,m=g.length;m>h&&-1!==d(n,g.charAt(h));h++);0!==h&&(g=g.substr(h));var o=l.exec(g);if(o){o=o[0];var z=o.toLowerCase();e.protocol=z,g=g.substr(o.length)}if(c||o||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===g.substr(0,2);!A||o&&w[o]||(g=g.substr(2),e.slashes=!0)}if(!w[o]&&(A||o&&!x[o])){var B=d(g,"@");if(-1!==B){for(var C=!0,h=0,m=r.length;m>h;h++){var D=d(g,r[h]);if(-1!==D&&B>D){C=!1;break}}C&&(e.auth=g.substr(0,B),g=g.substr(B+1))}for(var E=-1,h=0,m=q.length;m>h;h++){var D=d(g,q[h]);-1!==D&&(0>E||E>D)&&(E=D)}-1!==E?(e.host=g.substr(0,E),g=g.substr(E)):(e.host=g,g="");for(var F=i(e.host),G=k(F),h=0,m=G.length;m>h;h++){var H=G[h];e[H]=F[H]}if(e.hostname=e.hostname||"",e.hostname.length>s)e.hostname="";else for(var I=e.hostname.split(/\./),h=0,m=I.length;m>h;h++){var J=I[h];if(J&&!J.match(t)){for(var K="",L=0,M=J.length;M>L;L++)K+=J.charCodeAt(L)>127?"x":J[L];if(!K.match(t)){var N=I.slice(0,h),O=I.slice(h+1),P=J.match(u);P&&(N.push(P[1]),O.unshift(P[2])),O.length&&(g="/"+O.join(".")+g),e.hostname=N.join(".");break}}}e.hostname=e.hostname.toLowerCase();for(var Q=e.hostname.split("."),R=[],h=0;h<Q.length;++h){var S=Q[h];R.push(S.match(/[^A-Za-z0-9_-]/)?"xn--"+j.encode(S):S)}e.hostname=R.join("."),e.host=(e.hostname||"")+(e.port?":"+e.port:""),e.href+=e.host}if(!v[z]){for(var h=0,m=p.length;m>h;h++){var T=p[h],U=encodeURIComponent(T);U===T&&(U=escape(T)),g=g.split(T).join(U)}for(var V=g.length,h=0,m=n.length;m>h;h++){var W=d(g,n[h]);-1!==W&&(V=Math.min(W,V))}g=g.substr(0,V)}var X=d(g,"#");-1!==X&&(e.hash=g.substr(X),g=g.slice(0,X));var Y=d(g,"?");return-1!==Y?(e.search=g.substr(Y),e.query=g.substr(Y+1),b&&(e.query=y.parse(e.query)),g=g.slice(0,Y)):b&&(e.search="",e.query={}),g&&(e.pathname=g),x[o]&&e.hostname&&!e.pathname&&(e.pathname="/"),(e.pathname||e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=f(e),e}function f(a){"string"==typeof a&&(a=e(a));var b=a.auth||"";if(b){b=b.split("@").join("%40");for(var c=0,d=r.length;d>c;c++){var f=r[c];b=b.split(f).join(encodeURIComponent(f))}b+="@"}var g=a.protocol||"",h=void 0!==a.host?b+a.host:void 0!==a.hostname?b+a.hostname+(a.port?":"+a.port:""):!1,i=a.pathname||"",j=a.query&&("object"==typeof a.query&&k(a.query).length?y.stringify(a.query):"")||"",l=a.search||j&&"?"+j||"",m=a.hash||"";return g&&":"!==g.substr(-1)&&(g+=":"),a.slashes||(!g||x[g])&&h!==!1?(h="//"+(h||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):h||(h=""),m&&"#"!==m.charAt(0)&&(m="#"+m),l&&"?"!==l.charAt(0)&&(l="?"+l),g+h+i+l+m}function g(a,b){return f(h(a,b))}function h(a,b){if(!a)return b;if(a=e(f(a),!1,!0),b=e(f(b),!1,!0),a.hash=b.hash,""===b.href)return a.href=f(a),a;if(b.slashes&&!b.protocol)return b.protocol=a.protocol,x[b.protocol]&&b.hostname&&!b.pathname&&(b.path=b.pathname="/"),b.href=f(b),b;if(b.protocol&&b.protocol!==a.protocol){if(!x[b.protocol])return b.href=f(b),b;if(a.protocol=b.protocol,!b.host&&!w[b.protocol]){for(var c=(b.pathname||"").split("/");c.length&&!(b.host=c.shift()););b.host||(b.host=""),b.hostname||(b.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),b.pathname=c.join("/")}return a.pathname=b.pathname,a.search=b.search,a.query=b.query,a.host=b.host||"",a.auth=b.auth,a.hostname=b.hostname||b.host,a.port=b.port,(void 0!==a.pathname||void 0!==a.search)&&(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.slashes=a.slashes||b.slashes,a.href=f(a),a}var g=a.pathname&&"/"===a.pathname.charAt(0),h=void 0!==b.host||b.pathname&&"/"===b.pathname.charAt(0),i=h||g||a.host&&b.pathname,j=i,k=a.pathname&&a.pathname.split("/")||[],c=b.pathname&&b.pathname.split("/")||[],l=a.protocol&&!x[a.protocol];if(l&&(delete a.hostname,delete a.port,a.host&&(""===k[0]?k[0]=a.host:k.unshift(a.host)),delete a.host,b.protocol&&(delete b.hostname,delete b.port,b.host&&(""===c[0]?c[0]=b.host:c.unshift(b.host)),delete b.host),i=i&&(""===c[0]||""===k[0])),h)a.host=b.host||""===b.host?b.host:a.host,a.hostname=b.hostname||""===b.hostname?b.hostname:a.hostname,a.search=b.search,a.query=b.query,k=c;else if(c.length)k||(k=[]),k.pop(),k=k.concat(c),a.search=b.search,a.query=b.query;else if("search"in b){if(l){a.hostname=a.host=k.shift();var m=a.host&&d(a.host,"@")>0?a.host.split("@"):!1;m&&(a.auth=m.shift(),a.host=a.hostname=m.shift())}return a.search=b.search,a.query=b.query,(void 0!==a.pathname||void 0!==a.search)&&(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=f(a),a}if(!k.length)return delete a.pathname,a.search?delete a.path:a.path="/"+a.search,a.href=f(a),a;for(var n=k.slice(-1)[0],o=(a.host||b.host)&&("."===n||".."===n)||""===n,p=0,q=k.length;q>=0;q--)n=k[q],"."==n?k.splice(q,1):".."===n?(k.splice(q,1),p++):p&&(k.splice(q,1),p--);if(!i&&!j)for(;p--;p)k.unshift("..");!i||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),o&&"/"!==k.join("/").substr(-1)&&k.push("");var r=""===k[0]||k[0]&&"/"===k[0].charAt(0);if(l){a.hostname=a.host=r?"":k.length?k.shift():"";var m=a.host&&d(a.host,"@")>0?a.host.split("@"):!1;m&&(a.auth=m.shift(),a.host=a.hostname=m.shift())}return i=i||a.host&&k.length,i&&!r&&k.unshift(""),a.pathname=k.join("/"),(void 0!==a.pathname||void 0!==a.search)&&(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=b.auth||a.auth,a.slashes=a.slashes||b.slashes,a.href=f(a),a}function i(a){var b={},c=m.exec(a);return c&&(c=c[0],b.port=c.substr(1),a=a.substr(0,a.length-c.length)),a&&(b.hostname=a),b}var j={encode:function(a){return a}};c.parse=e,c.resolve=g,c.resolveObject=h,c.format=f;var k=Object.keys||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)a.hasOwnProperty(c)&&(b[b.length]=c);return b},l=/^([a-z0-9.+-]+:)/i,m=/:[0-9]+$/,n=["<",">",'"',"`"," ","\r","\n","	"],o=["{","}","|","\\","^","~","[","]","`"].concat(n),p=["'"],q=["%","/","?",";","#"].concat(o).concat(p),r=["/","@","?","#"].concat(n),s=255,t=/^[a-zA-Z0-9][a-z0-9A-Z_-]{0,62}$/,u=/^([a-zA-Z0-9][a-z0-9A-Z_-]{0,62})(.*)$/,v={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=a("querystring")},{querystring:10}],11:[function(a,b,c){function d(a){return a instanceof Array||Array.isArray(a)||a&&a!==Object.prototype&&d(a.__proto__)}function e(a){return a instanceof RegExp||"object"==typeof a&&"[object RegExp]"===Object.prototype.toString.call(a)}function f(a){if(a instanceof Date)return!0;if("object"!=typeof a)return!1;var b=Date.prototype&&h(Date.prototype),c=a.__proto__&&h(a.__proto__);return JSON.stringify(c)===JSON.stringify(b)}a("events"),c.isArray=d,c.isDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)},c.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)},c.print=function(){},c.puts=function(){},c.debug=function(){},c.inspect=function(a,b,i,j){function k(a,i){if(a&&"function"==typeof a.inspect&&a!==c&&(!a.constructor||a.constructor.prototype!==a))return a.inspect(i);switch(typeof a){case"undefined":return m("undefined","undefined");case"string":var j="'"+JSON.stringify(a).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return m(j,"string");case"number":return m(""+a,"number");case"boolean":return m(""+a,"boolean")}if(null===a)return m("null","null");var n=g(a),o=b?h(a):n;if("function"==typeof a&&0===o.length){if(e(a))return m(""+a,"regexp");var p=a.name?": "+a.name:"";return m("[Function"+p+"]","special")}if(f(a)&&0===o.length)return m(a.toUTCString(),"date");var q,r,s;if(d(a)?(r="Array",s=["[","]"]):(r="Object",s=["{","}"]),"function"==typeof a){var t=a.name?": "+a.name:"";q=e(a)?" "+a:" [Function"+t+"]"}else q="";if(f(a)&&(q=" "+a.toUTCString()),0===o.length)return s[0]+q+s[1];if(0>i)return e(a)?m(""+a,"regexp"):m("[Object]","special");l.push(a);var u=o.map(function(b){var c,e;if(a.__lookupGetter__&&(a.__lookupGetter__(b)?e=a.__lookupSetter__(b)?m("[Getter/Setter]","special"):m("[Getter]","special"):a.__lookupSetter__(b)&&(e=m("[Setter]","special"))),n.indexOf(b)<0&&(c="["+b+"]"),e||(l.indexOf(a[b])<0?(e=null===i?k(a[b]):k(a[b],i-1),e.indexOf("\n")>-1&&(e=d(a)?e.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+e.split("\n").map(function(a){return"   "+a}).join("\n"))):e=m("[Circular]","special")),"undefined"==typeof c){if("Array"===r&&b.match(/^\d+$/))return e;c=JSON.stringify(""+b),c.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),c=m(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=m(c,"string"))}return c+": "+e});l.pop();var v=0,w=u.reduce(function(a,b){return v++,b.indexOf("\n")>=0&&v++,a+b.length+1},0);return u=w>50?s[0]+(""===q?"":q+"\n ")+" "+u.join(",\n  ")+" "+s[1]:s[0]+q+" "+u.join(", ")+" "+s[1]}var l=[],m=function(a,b){var c={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[b];return d?"["+c[d][0]+"m"+a+"["+c[d][1]+"m":a};return j||(m=function(a){return a}),k(a,"undefined"==typeof i?2:i)},c.log=function(){},c.pump=null;var g=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b},h=Object.getOwnPropertyNames||function(a){var b=[];for(var c in a)Object.hasOwnProperty.call(a,c)&&b.push(c);return b},i=Object.create||function(a,b){var c;if(null===a)c={__proto__:null};else{if("object"!=typeof a)throw new TypeError("typeof prototype["+typeof a+"] != 'object'");var d=function(){};d.prototype=a,c=new d,c.__proto__=a}return"undefined"!=typeof b&&Object.defineProperties&&Object.defineProperties(c,b),c};c.inherits=function(a,b){a.super_=b,a.prototype=i(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})};var j=/%[sdj%]/g;c.format=function(a){if("string"!=typeof a){for(var b=[],d=0;d<arguments.length;d++)b.push(c.inspect(arguments[d]));return b.join(" ")}for(var d=1,e=arguments,f=e.length,g=String(a).replace(j,function(a){if("%%"===a)return"%";if(d>=f)return a;switch(a){case"%s":return String(e[d++]);case"%d":return Number(e[d++]);case"%j":return JSON.stringify(e[d++]);default:return a}}),h=e[d];f>d;h=e[++d])g+=null===h||"object"!=typeof h?" "+h:" "+c.inspect(h);return g}},{events:3}],7:[function(a,b,c){!function(a){!function(d){function e(a){function b(a){return a&&"object"==typeof a&&!rd(a)&&$c.call(a,"__wrapped__")?a:new Q(a)}function c(a){var b=a.length,c=b>=m;if(c)for(var d={},e=-1;++e<b;){var f=l+a[e];(d[f]||(d[f]=[])).push(a[e])}return function(b){if(c){var e=l+b;return d[e]&&Tb(d[e],b)>-1}return Tb(a,b)>-1}}function g(a){return a.charCodeAt(0)}function i(a,b){var c=a.index,d=b.index;if(a=a.criteria,b=b.criteria,a!==b){if(a>b||"undefined"==typeof a)return 1;if(b>a||"undefined"==typeof b)return-1}return d>c?-1:1}function F(a,b,c,d){function e(){var d=arguments,j=g?this:b;if(f||(a=b[h]),c.length&&(d=d.length?(d=md.call(d),i?d.concat(c):c.concat(d)):c),this instanceof e){R.prototype=a.prototype,j=new R,R.prototype=null;var k=a.apply(j,d);return hb(k)?k:j}return a.apply(j,d)}var f=gb(a),g=!c,h=b;if(g){var i=d;c=b}else if(!f){if(!d)throw new Qc;b=a}return e}function O(a){return"\\"+M[a]}function P(a){return ud[a]}function Q(a){this.__wrapped__=a}function R(){}function S(a){var b=!1;if(!a||cd.call(a)!=H)return b;var c=a.constructor;return(gb(c)?c instanceof c:!0)?(yd(a,function(a,c){b=c}),b===!1||$c.call(a,b)):b}function T(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Hc(0>e?0:e);++d<e;)f[d]=a[b+d];return f}function U(a){return vd[a]}function V(a){return cd.call(a)==B}function W(a,c,d,e,g,h){var i=a;if("function"==typeof c&&(e=d,d=c,c=!1),"function"==typeof d){if(d="undefined"==typeof e?d:b.createCallback(d,e,1),i=d(i),"undefined"!=typeof i)return i;i=a}var j=hb(i);if(j){var k=cd.call(i);if(!K[k])return i;var l=rd(i)}if(!j||!c)return j?l?T(i):wd({},i):i;var m=pd[k];switch(k){case D:case E:return new m(+i);case G:case J:return new m(i);case I:return m(i.source,s.exec(i))}g||(g=[]),h||(h=[]);for(var n=g.length;n--;)if(g[n]==a)return h[n];return i=l?m(i.length):{},l&&($c.call(a,"index")&&(i.index=a.index),$c.call(a,"input")&&(i.input=a.input)),g.push(a),h.push(i),(l?zb:zd)(a,function(a,b){i[b]=W(a,c,d,f,g,h)}),i}function X(a,b,c){return W(a,!0,b,c)}function Y(a,c,d){var e;return c=b.createCallback(c,d),zd(a,function(a,b,d){return c(a,b,d)?(e=b,!1):void 0}),e}function Z(a){var b=[];return yd(a,function(a,c){gb(a)&&b.push(c)}),b.sort()}function $(a,b){return a?$c.call(a,b):!1}function _(a){for(var b=-1,c=td(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function ab(a){return a===!0||a===!1||cd.call(a)==D}function bb(a){return a?"object"==typeof a&&cd.call(a)==E:!1}function cb(a){return a?1===a.nodeType:!1}function db(a){var b=!0;if(!a)return b;var c=cd.call(a),d=a.length;return c==C||c==J||c==B||c==H&&"number"==typeof d&&gb(a.splice)?!d:(zd(a,function(){return b=!1}),b)}function eb(a,c,d,e,f,g){var h=d===k;if("function"==typeof d&&!h){d=b.createCallback(d,e,2);var i=d(a,c);if("undefined"!=typeof i)return!!i}if(a===c)return 0!==a||1/a==1/c;var j=typeof a,l=typeof c;if(a===a&&(!a||"function"!=j&&"object"!=j)&&(!c||"function"!=l&&"object"!=l))return!1;if(null==a||null==c)return a===c;var m=cd.call(a),n=cd.call(c);if(m==B&&(m=H),n==B&&(n=H),m!=n)return!1;switch(m){case D:case E:return+a==+c;case G:return a!=+a?c!=+c:0==a?1/a==1/c:a==+c;case I:case J:return a==Pc(c)}var o=m==C;if(!o){if($c.call(a,"__wrapped__ ")||$c.call(c,"__wrapped__"))return eb(a.__wrapped__||a,c.__wrapped__||c,d,e,f,g);if(m!=H)return!1;var p=a.constructor,q=c.constructor;if(p!=q&&!(gb(p)&&p instanceof p&&gb(q)&&q instanceof q))return!1}f||(f=[]),g||(g=[]);for(var r=f.length;r--;)if(f[r]==a)return g[r]==c;var s=0;if(i=!0,f.push(a),g.push(c),o){if(r=a.length,s=c.length,i=s==a.length,!i&&!h)return i;for(;s--;){var t=r,u=c[s];if(h)for(;t--&&!(i=eb(a[t],u,d,e,f,g)););else if(!(i=eb(a[s],u,d,e,f,g)))break}return i}return yd(c,function(b,c,h){return $c.call(h,c)?(s++,i=$c.call(a,c)&&eb(a[c],b,d,e,f,g)):void 0}),i&&!h&&yd(a,function(a,b,c){return $c.call(c,b)?i=--s>-1:void 0}),i}function fb(a){return fd(a)&&!gd(parseFloat(a))}function gb(a){return"function"==typeof a}function hb(a){return a?L[typeof a]:!1}function ib(a){return kb(a)&&a!=+a}function jb(a){return null===a}function kb(a){return"number"==typeof a||cd.call(a)==G}function lb(a){return a?"object"==typeof a&&cd.call(a)==I:!1}function mb(a){return"string"==typeof a||cd.call(a)==J}function nb(a){return"undefined"==typeof a}function ob(a,c,d){var e=arguments,f=0,g=2;if(!hb(a))return a;if(d===k)var h=e[3],i=e[4],j=e[5];else i=[],j=[],"number"!=typeof d&&(g=e.length),g>3&&"function"==typeof e[g-2]?h=b.createCallback(e[--g-1],e[g--],2):g>2&&"function"==typeof e[g-1]&&(h=e[--g]);for(;++f<g;)(rd(e[f])?zb:zd)(e[f],function(b,c){var d,e,f=b,g=a[c];if(b&&((e=rd(b))||Ad(b))){for(var l=i.length;l--;)if(d=i[l]==b){g=j[l];break}if(!d){var m;h&&(f=h(g,b),(m="undefined"!=typeof f)&&(g=f)),m||(g=e?rd(g)?g:[]:Ad(g)?g:{}),i.push(b),j.push(g),m||(g=ob(g,b,k,h,i,j))}}else h&&(f=h(g,b),"undefined"==typeof f&&(f=b)),"undefined"!=typeof f&&(g=f);a[c]=g});return a}function pb(a,c,d){var e="function"==typeof c,f={};if(e)c=b.createCallback(c,d);else var g=Xc.apply(Rc,md.call(arguments,1));return yd(a,function(a,b,d){(e?!c(a,b,d):Tb(g,b)<0)&&(f[b]=a)}),f}function qb(a){for(var b=-1,c=td(a),d=c.length,e=Hc(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function rb(a,c,d){var e={};if("function"!=typeof c)for(var f=-1,g=Xc.apply(Rc,md.call(arguments,1)),h=hb(a)?g.length:0;++f<h;){var i=g[f];i in a&&(e[i]=a[i])}else c=b.createCallback(c,d),yd(a,function(a,b,d){c(a,b,d)&&(e[b]=a)});return e}function sb(a){for(var b=-1,c=td(a),d=c.length,e=Hc(d);++b<d;)e[b]=a[c[b]];return e}function tb(a){for(var b=-1,c=Xc.apply(Rc,md.call(arguments,1)),d=c.length,e=Hc(d);++b<d;)e[b]=a[c[b]];return e}function ub(a,b,c){var d=-1,e=a?a.length:0,f=!1;return c=(0>c?id(0,e+c):c)||0,"number"==typeof e?f=(mb(a)?a.indexOf(b,c):Tb(a,b,c))>-1:zd(a,function(a){return++d>=c?!(f=a===b):void 0}),f}function vb(a,c,d){var e={};return c=b.createCallback(c,d),zb(a,function(a,b,d){b=Pc(c(a,b,d)),$c.call(e,b)?e[b]++:e[b]=1}),e}function wb(a,c,d){var e=!0;c=b.createCallback(c,d);var f=-1,g=a?a.length:0;if("number"==typeof g)for(;++f<g&&(e=!!c(a[f],f,a)););else zd(a,function(a,b,d){return e=!!c(a,b,d)});return e}function xb(a,c,d){var e=[];c=b.createCallback(c,d);var f=-1,g=a?a.length:0;if("number"==typeof g)for(;++f<g;){var h=a[f];c(h,f,a)&&e.push(h)}else zd(a,function(a,b,d){c(a,b,d)&&e.push(a)});return e}function yb(a,c,d){c=b.createCallback(c,d);var e=-1,f=a?a.length:0;if("number"!=typeof f){var g;return zd(a,function(a,b,d){return c(a,b,d)?(g=a,!1):void 0}),g}for(;++e<f;){var h=a[e];if(c(h,e,a))return h}}function zb(a,c,d){var e=-1,f=a?a.length:0;if(c=c&&"undefined"==typeof d?c:b.createCallback(c,d),"number"==typeof f)for(;++e<f&&c(a[e],e,a)!==!1;);else zd(a,c);return a}function Ab(a,c,d){var e={};return c=b.createCallback(c,d),zb(a,function(a,b,d){b=Pc(c(a,b,d)),($c.call(e,b)?e[b]:e[b]=[]).push(a)}),e}function Bb(a,b){var c=md.call(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=Hc("number"==typeof f?f:0);return zb(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g}function Cb(a,c,d){var e=-1,f=a?a.length:0;if(c=b.createCallback(c,d),"number"==typeof f)for(var g=Hc(f);++e<f;)g[e]=c(a[e],e,a);else g=[],zd(a,function(a,b,d){g[++e]=c(a,b,d)});return g}function Db(a,c,d){var e=-1/0,f=e;if(!c&&rd(a))for(var h=-1,i=a.length;++h<i;){var j=a[h];j>f&&(f=j)}else c=!c&&mb(a)?g:b.createCallback(c,d),zb(a,function(a,b,d){var g=c(a,b,d);g>e&&(e=g,f=a)});return f}function Eb(a,c,d){var e=1/0,f=e;if(!c&&rd(a))for(var h=-1,i=a.length;++h<i;){var j=a[h];f>j&&(f=j)}else c=!c&&mb(a)?g:b.createCallback(c,d),zb(a,function(a,b,d){var g=c(a,b,d);e>g&&(e=g,f=a)});return f}function Fb(a,b){var c=-1,d=a?a.length:0;if("number"==typeof d)for(var e=Hc(d);++c<d;)e[c]=a[c][b];return e||Cb(a,b)}function Gb(a,c,d,e){if(!a)return d;var f=arguments.length<3;c=b.createCallback(c,e,4);var g=-1,h=a.length;if("number"==typeof h)for(f&&(d=a[++g]);++g<h;)d=c(d,a[g],g,a);else zd(a,function(a,b,e){d=f?(f=!1,a):c(d,a,b,e)});return d}function Hb(a,c,d,e){var f=a,g=a?a.length:0,h=arguments.length<3;if("number"!=typeof g){var i=td(a);g=i.length}return c=b.createCallback(c,e,4),zb(a,function(a,b,e){b=i?i[--g]:--g,d=h?(h=!1,f[b]):c(d,f[b],b,e)}),d}function Ib(a,c,d){return c=b.createCallback(c,d),xb(a,function(a,b,d){return!c(a,b,d)})}function Jb(a){var b=-1,c=a?a.length:0,d=Hc("number"==typeof c?c:0);return zb(a,function(a){var c=Yc(ld()*(++b+1));d[b]=d[c],d[c]=a}),d}function Kb(a){var b=a?a.length:0;return"number"==typeof b?b:td(a).length}function Lb(a,c,d){var e;c=b.createCallback(c,d);var f=-1,g=a?a.length:0;if("number"==typeof g)for(;++f<g&&!(e=c(a[f],f,a)););else zd(a,function(a,b,d){return!(e=c(a,b,d))});return!!e}function Mb(a,c,d){var e=-1,f=a?a.length:0,g=Hc("number"==typeof f?f:0);for(c=b.createCallback(c,d),zb(a,function(a,b,d){g[++e]={criteria:c(a,b,d),index:e,value:a}}),f=g.length,g.sort(i);f--;)g[f]=g[f].value;return g}function Nb(a){return a&&"number"==typeof a.length?T(a):sb(a)}function Ob(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function Pb(a){for(var b=-1,d=a?a.length:0,e=Xc.apply(Rc,md.call(arguments,1)),f=c(e),g=[];++b<d;){var h=a[b];f(h)||g.push(h)}return g}function Qb(a,c,d){var e=-1,f=a?a.length:0;for(c=b.createCallback(c,d);++e<f;)if(c(a[e],e,a))return e;return-1}function Rb(a,c,d){if(a){var e=0,f=a.length;if("number"!=typeof c&&null!=c){var g=-1;for(c=b.createCallback(c,d);++g<f&&c(a[g],g,a);)e++}else if(e=c,null==e||d)return a[0];return T(a,0,jd(id(0,e),f))}}function Sb(a,c,d,e){var f=-1,g=a?a.length:0,h=[];for("boolean"!=typeof c&&null!=c&&(e=d,d=c,c=!1),null!=d&&(d=b.createCallback(d,e));++f<g;){var i=a[f];d&&(i=d(i,f,a)),rd(i)?_c.apply(h,c?i:Sb(i)):h.push(i)}return h}function Tb(a,b,c){var d=-1,e=a?a.length:0;if("number"==typeof c)d=(0>c?id(0,e+c):c||0)-1;else if(c)return d=$b(a,b),a[d]===b?d:-1;for(;++d<e;)if(a[d]===b)return d;return-1}function Ub(a,c,d){if(!a)return[];var e=0,f=a.length;if("number"!=typeof c&&null!=c){var g=f;for(c=b.createCallback(c,d);g--&&c(a[g],g,a);)e++}else e=null==c||d?1:c||e;return T(a,0,jd(id(0,f-e),f))}function Vb(a){var b=arguments,d=b.length,e={0:{}},f=-1,g=a?a.length:0,h=g>=m,i=[],j=i;a:for(;++f<g;){var k=a[f];if(h)var n=l+k,o=e[0][n]?!(j=e[0][n]):j=e[0][n]=[];if(o||Tb(j,k)<0){h&&j.push(k);for(var p=d;--p;)if(!(e[p]||(e[p]=c(b[p])))(k))continue a;i.push(k)}}return i}function Wb(a,c,d){if(a){var e=0,f=a.length;if("number"!=typeof c&&null!=c){var g=f;for(c=b.createCallback(c,d);g--&&c(a[g],g,a);)e++}else if(e=c,null==e||d)return a[f-1];return T(a,id(0,f-e))}}function Xb(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?id(0,d+c):jd(c,d-1))+1);d--;)if(a[d]===b)return d;return-1}function Yb(a,b,c){a=+a||0,c=+c||1,null==b&&(b=a,a=0);for(var d=-1,e=id(0,Vc((b-a)/c)),f=Hc(e);++d<e;)f[d]=a,a+=c;return f}function Zb(a,c,d){if("number"!=typeof c&&null!=c){var e=0,f=-1,g=a?a.length:0;for(c=b.createCallback(c,d);++f<g&&c(a[f],f,a);)e++}else e=null==c||d?1:id(0,c);return T(a,e)}function $b(a,c,d,e){var f=0,g=a?a.length:f;for(d=d?b.createCallback(d,e,1):vc,c=d(c);g>f;){var h=f+g>>>1;d(a[h])<c?f=h+1:g=h}return f}function _b(a){return rd(a)||(arguments[0]=a?md.call(a):Rc),ac(Xc.apply(Rc,arguments))}function ac(a,c,d,e){var f=-1,g=a?a.length:0,h=[],i=h;"boolean"!=typeof c&&null!=c&&(e=d,d=c,c=!1);var j=!c&&g>=m;if(j)var k={};for(null!=d&&(i=[],d=b.createCallback(d,e));++f<g;){var n=a[f],o=d?d(n,f,a):n;if(j)var p=l+o,q=k[p]?!(i=k[p]):i=k[p]=[];(c?!f||i[i.length-1]!==o:q||Tb(i,o)<0)&&((d||j)&&i.push(o),h.push(n))}return h}function bc(a){for(var b=-1,c=a?a.length:0,d=c?Db(Fb(a,"length")):0,e=Hc(d);++b<c;)for(var f=-1,g=a[b];++f<d;)(e[f]||(e[f]=Hc(c)))[b]=g[f];return e}function cc(a){return Pb(a,md.call(arguments,1))}function dc(a){for(var b=-1,c=a?Db(Fb(arguments,"length")):0,d=Hc(c);++b<c;)d[b]=Fb(arguments,b);return d}function ec(a,b){for(var c=-1,d=a?a.length:0,e={};++c<d;){var f=a[c];b?e[f]=b[c]:e[f[0]]=f[1]}return e}function fc(a,b){return 1>a?b():function(){return--a<1?b.apply(this,arguments):void 0}}function gc(a,b){return qd.fastBind||dd&&arguments.length>2?dd.call.apply(dd,arguments):F(a,b,md.call(arguments,2))}function hc(a){for(var b=arguments.length>1?Xc.apply(Rc,md.call(arguments,1)):Z(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=gc(a[e],a)}return a}function ic(a,b){return F(a,b,md.call(arguments,2),k)}function jc(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function kc(a,b,c){if(null==a)return vc;var d=typeof a;if("function"!=d){if("object"!=d)return function(b){return b[a]};var e=td(a);return function(b){for(var c=e.length,d=!1;c--&&(d=eb(b[e[c]],a[e[c]],k)););return d}}return"undefined"!=typeof b?1===c?function(c){return a.call(b,c)}:2===c?function(c,d){return a.call(b,c,d)}:4===c?function(c,d,e,f){return a.call(b,c,d,e,f)}:function(c,d,e){return a.call(b,c,d,e)}:a}function lc(a,b,c){function d(){f=i=null,j&&(g=a.apply(h,e))}var e,f,g,h,i,j=!0;if(c===!0){var k=!0;j=!1}else c&&L[typeof c]&&(k=c.leading,j="trailing"in c?c.trailing:j);return function(){return e=arguments,h=this,Wc(i),!f&&k?(f=!0,g=a.apply(h,e)):i=bd(d,b),g}}function mc(a){var b=md.call(arguments,1);return bd(function(){a.apply(f,b)},1)}function nc(a,b){var c=md.call(arguments,2);return bd(function(){a.apply(f,c)},b)}function oc(a,b){var c={};return function(){var d=l+(b?b.apply(this,arguments):arguments[0]);return $c.call(c,d)?c[d]:c[d]=a.apply(this,arguments)}}function pc(a){var b,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function qc(a){return F(a,md.call(arguments,1))}function rc(a){return F(a,md.call(arguments,1),null,k)}function sc(a,b,c){function d(){h=null,k&&(i=new Jc,f=a.apply(g,e))}var e,f,g,h,i=0,j=!0,k=!0;return c===!1?j=!1:c&&L[typeof c]&&(j="leading"in c?c.leading:j,k="trailing"in c?c.trailing:k),function(){var c=new Jc;h||j||(i=c);var k=b-(c-i);return e=arguments,g=this,0>=k?(Wc(h),h=null,i=c,f=a.apply(g,e)):h||(h=bd(d,k)),f}}function tc(a,b){return function(){var c=[a];return _c.apply(c,arguments),b.apply(this,c)}}function uc(a){return null==a?"":Pc(a).replace(x,P)}function vc(a){return a}function wc(a){zb(Z(a),function(c){var d=b[c]=a[c];b.prototype[c]=function(){var a=this.__wrapped__,c=[a];_c.apply(c,arguments);var e=d.apply(b,c);return a&&"object"==typeof a&&a==e?this:new Q(e)}})}function xc(){return a._=Tc,this}function yc(a,b){return null==a&&null==b&&(b=1),a=+a||0,null==b&&(b=a,a=0),a+Yc(ld()*((+b||0)-a+1))}function zc(a,b){var c=a?a[b]:f;return gb(c)?a[b]():c}function Ac(a,c,d){var e=b.templateSettings;a||(a=""),d=xd({},d,e);var g,h=xd({},d.imports,e.imports),i=td(h),j=sb(h),k=0,l=d.interpolate||w,m="__p += '",q=Oc((d.escape||w).source+"|"+l.source+"|"+(l===t?r:w).source+"|"+(d.evaluate||w).source+"|$","g");a.replace(q,function(b,c,d,e,f,h){return d||(d=e),m+=a.slice(k,h).replace(y,O),c&&(m+="' +\n__e("+c+") +\n'"),f&&(g=!0,m+="';\n"+f+";\n__p += '"),d&&(m+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=h+b.length,b}),m+="';\n";var s=d.variable,u=s;u||(s="obj",m="with ("+s+") {\n"+m+"\n}\n"),m=(g?m.replace(n,""):m).replace(o,"$1").replace(p,"$1;"),m="function("+s+") {\n"+(u?"":s+" || ("+s+" = {});\n")+"var __t, __p = '', __e = _.escape"+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var v="\n/*\n//@ sourceURL="+(d.sourceURL||"/lodash/template/source["+A++ +"]")+"\n*/";try{var x=Kc(i,"return "+m+v).apply(f,j)}catch(z){throw z.source=m,z}return c?x(c):(x.source=m,x)}function Bc(a,c,d){a=(a=+a)>-1?a:0;
var e=-1,f=Hc(a);for(c=b.createCallback(c,d,1);++e<a;)f[e]=c(e);return f}function Cc(a){return null==a?"":Pc(a).replace(q,U)}function Dc(a){var b=++j;return Pc(null==a?"":a)+b}function Ec(a,b){return b(a),a}function Fc(){return Pc(this.__wrapped__)}function Gc(){return this.__wrapped__}a=a?N.defaults(d.Object(),a,N.pick(d,z)):d;var Hc=a.Array,Ic=a.Boolean,Jc=a.Date,Kc=a.Function,Lc=a.Math,Mc=a.Number,Nc=a.Object,Oc=a.RegExp,Pc=a.String,Qc=a.TypeError,Rc=Hc(),Sc=Nc(),Tc=a._,Uc=Oc("^"+Pc(Sc.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Vc=Lc.ceil,Wc=a.clearTimeout,Xc=Rc.concat,Yc=Lc.floor,Zc=Uc.test(Zc=Nc.getPrototypeOf)&&Zc,$c=Sc.hasOwnProperty,_c=Rc.push,ad=a.setImmediate,bd=a.setTimeout,cd=Sc.toString,dd=Uc.test(dd=cd.bind)&&dd,ed=Uc.test(ed=Hc.isArray)&&ed,fd=a.isFinite,gd=a.isNaN,hd=Uc.test(hd=Nc.keys)&&hd,id=Lc.max,jd=Lc.min,kd=a.parseInt,ld=Lc.random,md=Rc.slice,nd=Uc.test(a.attachEvent),od=dd&&!/\n|true/.test(dd+nd),pd={};pd[C]=Hc,pd[D]=Ic,pd[E]=Jc,pd[H]=Nc,pd[G]=Mc,pd[I]=Oc,pd[J]=Pc;var qd=b.support={};qd.fastBind=dd&&!od,b.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:t,variable:"",imports:{_:b}},Q.prototype=b.prototype;var rd=ed,sd=function(a){var b,c=a,d=[];if(!c)return d;if(!L[typeof a])return d;for(b in c)$c.call(c,b)&&d.push(b);return d},td=hd?function(a){return hb(a)?hd(a):[]}:sd,ud={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vd=_(ud),wd=function(a,c,d){var e,f=a,g=f;if(!f)return g;var h=arguments,i=0,j="number"==typeof d?2:h.length;if(j>3&&"function"==typeof h[j-2])var k=b.createCallback(h[--j-1],h[j--],2);else j>2&&"function"==typeof h[j-1]&&(k=h[--j]);for(;++i<j;)if(f=h[i],f&&L[typeof f]){var l=f.length;if(e=-1,rd(f))for(;++e<l;)g[e]=k?k(g[e],f[e]):f[e];else for(var m=-1,n=L[typeof f]?td(f):[],l=n.length;++m<l;)e=n[m],g[e]=k?k(g[e],f[e]):f[e]}return g},xd=function(a,b,c){var d,e=a,f=e;if(!e)return f;for(var g=arguments,h=0,i="number"==typeof c?2:g.length;++h<i;)if(e=g[h],e&&L[typeof e]){var j=e.length;if(d=-1,rd(e))for(;++d<j;)"undefined"==typeof f[d]&&(f[d]=e[d]);else for(var k=-1,l=L[typeof e]?td(e):[],j=l.length;++k<j;)d=l[k],"undefined"==typeof f[d]&&(f[d]=e[d])}return f},yd=function(a,c,d){var e,f=a,g=f;if(!f)return g;if(!L[typeof f])return g;c=c&&"undefined"==typeof d?c:b.createCallback(c,d);for(e in f)if(c(f[e],e,a)===!1)return g;return g},zd=function(a,c,d){var e,f=a,g=f;if(!f)return g;if(!L[typeof f])return g;c=c&&"undefined"==typeof d?c:b.createCallback(c,d);for(var h=-1,i=L[typeof f]?td(f):[],j=i.length;++h<j;)if(e=i[h],c(f[e],e,a)===!1)return g;return g},Ad=function(a){if(!a||cd.call(a)!=H)return!1;var b=a.valueOf,c="function"==typeof b&&(c=Zc(b))&&Zc(c);return c?a==c||Zc(a)==c:S(a)},Bd=xb;od&&h&&"function"==typeof ad&&(mc=gc(ad,a));var Cd=8==kd(u+"08")?kd:function(a,b){return kd(mb(a)?a.replace(v,""):a,b||0)};return b.after=fc,b.assign=wd,b.at=tb,b.bind=gc,b.bindAll=hc,b.bindKey=ic,b.compact=Ob,b.compose=jc,b.countBy=vb,b.createCallback=kc,b.debounce=lc,b.defaults=xd,b.defer=mc,b.delay=nc,b.difference=Pb,b.filter=xb,b.flatten=Sb,b.forEach=zb,b.forIn=yd,b.forOwn=zd,b.functions=Z,b.groupBy=Ab,b.initial=Ub,b.intersection=Vb,b.invert=_,b.invoke=Bb,b.keys=td,b.map=Cb,b.max=Db,b.memoize=oc,b.merge=ob,b.min=Eb,b.omit=pb,b.once=pc,b.pairs=qb,b.partial=qc,b.partialRight=rc,b.pick=rb,b.pluck=Fb,b.range=Yb,b.reject=Ib,b.rest=Zb,b.shuffle=Jb,b.sortBy=Mb,b.tap=Ec,b.throttle=sc,b.times=Bc,b.toArray=Nb,b.union=_b,b.uniq=ac,b.unzip=bc,b.values=sb,b.where=Bd,b.without=cc,b.wrap=tc,b.zip=dc,b.zipObject=ec,b.collect=Cb,b.drop=Zb,b.each=zb,b.extend=wd,b.methods=Z,b.object=ec,b.select=xb,b.tail=Zb,b.unique=ac,wc(b),b.clone=W,b.cloneDeep=X,b.contains=ub,b.escape=uc,b.every=wb,b.find=yb,b.findIndex=Qb,b.findKey=Y,b.has=$,b.identity=vc,b.indexOf=Tb,b.isArguments=V,b.isArray=rd,b.isBoolean=ab,b.isDate=bb,b.isElement=cb,b.isEmpty=db,b.isEqual=eb,b.isFinite=fb,b.isFunction=gb,b.isNaN=ib,b.isNull=jb,b.isNumber=kb,b.isObject=hb,b.isPlainObject=Ad,b.isRegExp=lb,b.isString=mb,b.isUndefined=nb,b.lastIndexOf=Xb,b.mixin=wc,b.noConflict=xc,b.parseInt=Cd,b.random=yc,b.reduce=Gb,b.reduceRight=Hb,b.result=zc,b.runInContext=e,b.size=Kb,b.some=Lb,b.sortedIndex=$b,b.template=Ac,b.unescape=Cc,b.uniqueId=Dc,b.all=wb,b.any=Lb,b.detect=yb,b.foldl=Gb,b.foldr=Hb,b.include=ub,b.inject=Gb,zd(b,function(a,c){b.prototype[c]||(b.prototype[c]=function(){var c=[this.__wrapped__];return _c.apply(c,arguments),a.apply(b,c)})}),b.first=Rb,b.last=Wb,b.take=Rb,b.head=Rb,zd(b,function(a,c){b.prototype[c]||(b.prototype[c]=function(b,c){var d=a(this.__wrapped__,b,c);return null==b||c&&"function"!=typeof b?d:new Q(d)})}),b.VERSION="1.2.1",b.prototype.toString=Fc,b.prototype.value=Gc,b.prototype.valueOf=Gc,zb(["join","pop","shift"],function(a){var c=Rc[a];b.prototype[a]=function(){return c.apply(this.__wrapped__,arguments)}}),zb(["push","reverse","sort","unshift"],function(a){var c=Rc[a];b.prototype[a]=function(){return c.apply(this.__wrapped__,arguments),this}}),zb(["concat","slice","splice"],function(a){var c=Rc[a];b.prototype[a]=function(){return new Q(c.apply(this.__wrapped__,arguments))}}),b}var f,g="object"==typeof c&&c,h="object"==typeof b&&b&&b.exports==g&&b,i="object"==typeof a&&a;(i.global===i||i.window===i)&&(d=i);var j=0,k={},l=+new Date+"",m=200,n=/\b__p \+= '';/g,o=/\b(__p \+=) '' \+/g,p=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,r=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,s=/\w*$/,t=/<%=([\s\S]+?)%>/g,u=" 	\f¬†Ôªø\n\r\u2028\u2029·öÄ·†é‚ÄÄ‚ÄÅ‚ÄÇ‚ÄÉ‚ÄÑ‚ÄÖ‚ÄÜ‚Äá‚Äà‚Äâ‚Ää‚ÄØ‚Åü„ÄÄ",v=RegExp("^["+u+"]*0+(?=.$)"),w=/($^)/,x=/[&<>"']/g,y=/['\n\r\t\u2028\u2029\\]/g,z=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],A=0,B="[object Arguments]",C="[object Array]",D="[object Boolean]",E="[object Date]",F="[object Function]",G="[object Number]",H="[object Object]",I="[object RegExp]",J="[object String]",K={};K[F]=!1,K[B]=K[C]=K[D]=K[E]=K[G]=K[H]=K[I]=K[J]=!0;var L={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},M={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},N=e();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(d._=N,define(function(){return N})):g&&!g.nodeType?h?(h.exports=N)._=N:g._=N:d._=N}(this)}(window)},{}],8:[function(a,b){!function(a){!function(){function c(a){var b=!1;return function(){if(b)throw new Error("Callback was already called.");b=!0,a.apply(d,arguments)}}var d,e,f={};d=this,null!=d&&(e=d.async),f.noConflict=function(){return d.async=e,f};var g=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c+=1)b(a[c],c,a)},h=function(a,b){if(a.map)return a.map(b);var c=[];return g(a,function(a,d,e){c.push(b(a,d,e))}),c},i=function(a,b,c){return a.reduce?a.reduce(b,c):(g(a,function(a,d,e){c=b(c,a,d,e)}),c)},j=function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};"undefined"!=typeof a&&a.nextTick?(f.nextTick=a.nextTick,f.setImmediate="undefined"!=typeof setImmediate?setImmediate:f.nextTick):"function"==typeof setImmediate?(f.nextTick=function(a){setImmediate(a)},f.setImmediate=f.nextTick):(f.nextTick=function(a){setTimeout(a,0)},f.setImmediate=f.nextTick),f.each=function(a,b,d){if(d=d||function(){},!a.length)return d();var e=0;g(a,function(f){b(f,c(function(b){b?(d(b),d=function(){}):(e+=1,e>=a.length&&d(null))}))})},f.forEach=f.each,f.eachSeries=function(a,b,c){if(c=c||function(){},!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c(null):e())})};e()},f.forEachSeries=f.eachSeries,f.eachLimit=function(a,b,c,d){var e=k(b);e.apply(null,[a,c,d])},f.forEachLimit=f.eachLimit;var k=function(a){return function(b,c,d){if(d=d||function(){},!b.length||0>=a)return d();var e=0,f=0,g=0;!function h(){if(e>=b.length)return d();for(;a>g&&f<b.length;)f+=1,g+=1,c(b[f-1],function(a){a?(d(a),d=function(){}):(e+=1,g-=1,e>=b.length?d():h())})}()}},l=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[f.each].concat(b))}},m=function(a,b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[k(a)].concat(c))}},n=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[f.eachSeries].concat(b))}},o=function(a,b,c,d){var e=[];b=h(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c,d){e[a.index]=d,b(c)})},function(a){d(a,e)})};f.map=l(o),f.mapSeries=n(o),f.mapLimit=function(a,b,c,d){return p(b)(a,c,d)};var p=function(a){return m(a,o)};f.reduce=function(a,b,c,d){f.eachSeries(a,function(a,d){c(b,a,function(a,c){b=c,d(a)})},function(a){d(a,b)})},f.inject=f.reduce,f.foldl=f.reduce,f.reduceRight=function(a,b,c,d){var e=h(a,function(a){return a}).reverse();f.reduce(e,b,c,d)},f.foldr=f.reduceRight;var q=function(a,b,c,d){var e=[];b=h(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c&&e.push(a),b()})},function(){d(h(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};f.filter=l(q),f.filterSeries=n(q),f.select=f.filter,f.selectSeries=f.filterSeries;var r=function(a,b,c,d){var e=[];b=h(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c||e.push(a),b()})},function(){d(h(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};f.reject=l(r),f.rejectSeries=n(r);var s=function(a,b,c,d){a(b,function(a,b){c(a,function(c){c?(d(a),d=function(){}):b()})},function(){d()})};f.detect=l(s),f.detectSeries=n(s),f.some=function(a,b,c){f.each(a,function(a,d){b(a,function(a){a&&(c(!0),c=function(){}),d()})},function(){c(!1)})},f.any=f.some,f.every=function(a,b,c){f.each(a,function(a,d){b(a,function(a){a||(c(!1),c=function(){}),d()})},function(){c(!0)})},f.all=f.every,f.sortBy=function(a,b,c){f.map(a,function(a,c){b(a,function(b,d){b?c(b):c(null,{value:a,criteria:d})})},function(a,b){if(a)return c(a);var d=function(a,b){var c=a.criteria,d=b.criteria;return d>c?-1:c>d?1:0};c(null,h(b.sort(d),function(a){return a.value}))})},f.auto=function(a,b){b=b||function(){};var c=j(a);if(!c.length)return b(null);var d={},e=[],h=function(a){e.unshift(a)},k=function(a){for(var b=0;b<e.length;b+=1)if(e[b]===a)return e.splice(b,1),void 0},l=function(){g(e.slice(0),function(a){a()})};h(function(){j(d).length===c.length&&(b(null,d),b=function(){})}),g(c,function(c){var e=a[c]instanceof Function?[a[c]]:a[c],m=function(a){var e=Array.prototype.slice.call(arguments,1);if(e.length<=1&&(e=e[0]),a){var h={};g(j(d),function(a){h[a]=d[a]}),h[c]=e,b(a,h),b=function(){}}else d[c]=e,f.setImmediate(l)},n=e.slice(0,Math.abs(e.length-1))||[],o=function(){return i(n,function(a,b){return a&&d.hasOwnProperty(b)},!0)&&!d.hasOwnProperty(c)};if(o())e[e.length-1](m,d);else{var p=function(){o()&&(k(p),e[e.length-1](m,d))};h(p)}})},f.waterfall=function(a,b){if(b=b||function(){},a.constructor!==Array){var c=new Error("First argument to waterfall must be an array of functions");return b(c)}if(!a.length)return b();var d=function(a){return function(c){if(c)b.apply(null,arguments),b=function(){};else{var e=Array.prototype.slice.call(arguments,1),g=a.next();g?e.push(d(g)):e.push(b),f.setImmediate(function(){a.apply(null,e)})}}};d(f.iterator(a))()};var t=function(a,b,c){if(c=c||function(){},b.constructor===Array)a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},c);else{var d={};a.each(j(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),d[a]=e,c(b)})},function(a){c(a,d)})}};f.parallel=function(a,b){t({map:f.map,each:f.each},a,b)},f.parallelLimit=function(a,b,c){t({map:p(b),each:k(b)},a,c)},f.series=function(a,b){if(b=b||function(){},a.constructor===Array)f.mapSeries(a,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},b);else{var c={};f.eachSeries(j(a),function(b,d){a[b](function(a){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),c[b]=e,d(a)})},function(a){b(a,c)})}},f.iterator=function(a){var b=function(c){var d=function(){return a.length&&a[c].apply(null,arguments),d.next()};return d.next=function(){return c<a.length-1?b(c+1):null},d};return b(0)},f.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};var u=function(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]),b(a)})},function(a){d(a,e)})};f.concat=l(u),f.concatSeries=n(u),f.whilst=function(a,b,c){a()?b(function(d){return d?c(d):(f.whilst(a,b,c),void 0)}):c()},f.doWhilst=function(a,b,c){a(function(d){return d?c(d):(b()?f.doWhilst(a,b,c):c(),void 0)})},f.until=function(a,b,c){a()?c():b(function(d){return d?c(d):(f.until(a,b,c),void 0)})},f.doUntil=function(a,b,c){a(function(d){return d?c(d):(b()?c():f.doUntil(a,b,c),void 0)})},f.queue=function(a,b){function d(a,c,d,e){c.constructor!==Array&&(c=[c]),g(c,function(c){var g={data:c,callback:"function"==typeof e?e:null};d?a.tasks.unshift(g):a.tasks.push(g),a.saturated&&a.tasks.length===b&&a.saturated(),f.setImmediate(a.process)})}void 0===b&&(b=1);var e=0,h={tasks:[],concurrency:b,saturated:null,empty:null,drain:null,push:function(a,b){d(h,a,!1,b)},unshift:function(a,b){d(h,a,!0,b)},process:function(){if(e<h.concurrency&&h.tasks.length){var b=h.tasks.shift();h.empty&&0===h.tasks.length&&h.empty(),e+=1;var d=function(){e-=1,b.callback&&b.callback.apply(b,arguments),h.drain&&0===h.tasks.length+e&&h.drain(),h.process()},f=c(d);a(b.data,f)}},length:function(){return h.tasks.length},running:function(){return e}};return h},f.cargo=function(a,b){var c=!1,d=[],e={tasks:d,payload:b,saturated:null,empty:null,drain:null,push:function(a,c){a.constructor!==Array&&(a=[a]),g(a,function(a){d.push({data:a,callback:"function"==typeof c?c:null}),e.saturated&&d.length===b&&e.saturated()}),f.setImmediate(e.process)},process:function i(){if(!c){if(0===d.length)return e.drain&&e.drain(),void 0;var f="number"==typeof b?d.splice(0,b):d.splice(0),j=h(f,function(a){return a.data});e.empty&&e.empty(),c=!0,a(j,function(){c=!1;var a=arguments;g(f,function(b){b.callback&&b.callback.apply(null,a)}),i()})}},length:function(){return d.length},running:function(){return c}};return e};var v=function(a){return function(b){var c=Array.prototype.slice.call(arguments,1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(b?console.error&&console.error(b):console[a]&&g(c,function(b){console[a](b)}))}]))}};f.log=v("log"),f.dir=v("dir"),f.memoize=function(a,b){var c={},d={};b=b||function(a){return a};var e=function(){var e=Array.prototype.slice.call(arguments),f=e.pop(),g=b.apply(null,e);g in c?f.apply(null,c[g]):g in d?d[g].push(f):(d[g]=[f],a.apply(null,e.concat([function(){c[g]=arguments;var a=d[g];delete d[g];for(var b=0,e=a.length;e>b;b++)a[b].apply(null,arguments)}])))};return e.memo=c,e.unmemoized=a,e},f.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}},f.times=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return f.map(d,b,c)},f.timesSeries=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return f.mapSeries(d,b,c)},f.compose=function(){var a=Array.prototype.reverse.call(arguments);return function(){var b=this,c=Array.prototype.slice.call(arguments),d=c.pop();f.reduce(a,c,function(a,c,d){c.apply(b,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){d.apply(b,[a].concat(c))})}};var w=function(a,b){var c=function(){var c=this,d=Array.prototype.slice.call(arguments),e=d.pop();return a(b,function(a,b){a.apply(c,d.concat([b]))},e)};if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return c.apply(this,d)}return c};f.applyEach=l(w),f.applyEachSeries=n(w),f.forever=function(a,b){function c(d){if(d){if(b)return b(d);throw d}a(c)}c()},"undefined"!=typeof define&&define.amd?define([],function(){return f}):"undefined"!=typeof b&&b.exports?b.exports=f:d.async=f}()}(a("__browserify_process"))},{__browserify_process:2}],10:[function(a,b,c){function d(a,b){if(0==a[b].length)return a[b]={};var c={};for(var d in a[b])c[d]=a[b][d];return a[b]=c,c}function e(a,b,c,f){var g=a.shift();if(g){var h=b[c]=b[c]||[];"]"==g?q(h)?""!=f&&h.push(f):"object"==typeof h?h[r(h).length]=f:h=b[c]=[b[c],f]:~p(g,"]")?(g=g.substr(0,g.length-1),!u.test(g)&&q(h)&&(h=d(b,c)),e(a,h,g,f)):(!u.test(g)&&q(h)&&(h=d(b,c)),e(a,h,g,f))}else q(b[c])?b[c].push(f):b[c]="object"==typeof b[c]?f:"undefined"==typeof b[c]?f:[b[c],f]}function f(a,b,c){if(~p(b,"]")){var d=b.split("[");d.length,e(d,a,"base",c)}else{if(!u.test(b)&&q(a.base)){var f={};for(var g in a.base)f[g]=a.base[g];a.base=f}l(a.base,b,c)}return a}function g(a){var b={base:{}};return s(r(a),function(c){f(b,c,a[c])}),b.base}function h(a){return t(String(a).split("&"),function(a,b){var c=p(b,"="),d=m(b),e=b.substr(0,d||c),g=b.substr(d||c,b.length),g=g.substr(p(g,"=")+1,g.length);return""==e&&(e=b,g=""),""==e?a:f(a,n(e),n(g))},{base:{}}).base}function i(a,b){if(!b)throw new TypeError("stringify expects an object");return b+"="+encodeURIComponent(a)}function j(a,b){var c=[];if(!b)throw new TypeError("stringify expects an object");for(var d=0;d<a.length;d++)c.push(v(a[d],b+"["+d+"]"));return c.join("&")}function k(a,b){for(var c,d=[],e=r(a),f=0,g=e.length;g>f;++f)c=e[f],null==a[c]?d.push(encodeURIComponent(c)+"="):d.push(v(a[c],b?b+"["+encodeURIComponent(c)+"]":encodeURIComponent(c)));return d.join("&")}function l(a,b,c){var d=a[b];void 0===d?a[b]=c:q(d)?d.push(c):a[b]=[d,c]}function m(a){for(var b,c,d=a.length,e=0;d>e;++e)if(c=a[e],"]"==c&&(b=!1),"["==c&&(b=!0),"="==c&&!b)return e}function n(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(b){return a}}var o=Object.prototype.toString,p="function"==typeof Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1},q=Array.isArray||function(a){return"[object Array]"==o.call(a)},r=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b},s="function"==typeof Array.prototype.forEach?function(a,b){return a.forEach(b)}:function(a,b){for(var c=0;c<a.length;c++)b(a[c])},t=function(a,b,c){if("function"==typeof a.reduce)return a.reduce(b,c);for(var d=c,e=0;e<a.length;e++)d=b(d,a[e]);return d},u=/^[0-9]+$/;c.parse=function(a){return null==a||""==a?{}:"object"==typeof a?g(a):h(a)};var v=c.stringify=function(a,b){return q(a)?j(a,b):"[object Object]"==o.call(a)?k(a,b):"string"==typeof a?i(a,b):b+"="+encodeURIComponent(String(a))}},{}],5:[function(a,b){function c(a,b){return i(a,b)}function d(a,b,c){g.each(a,function(a){i(a,b,c)})}function e(a,b){b=b||{},g.isString(b)&&(b={leaf:b});var e=b.leaf,f=e?(a?a+".":"")+e:a||"";return f=f.replace(/^\./,""),function(){var b=this;return arguments.length<=0?c(this.models[0],f):1==arguments.length&&g.isString(arguments[0])&&!e?c(this.models[0],[a,arguments[0]].join(".")):1==arguments.length?(d(this.models,f,arguments[0],this._silent),b):arguments.length>1?(d(this.models,[f,arguments[0]].join("."),arguments[1],this._silent),b):void 0}}function f(a){return function(b){var c=this;return arguments.length<=0?this:(g.isArray(b)||(b=[b]),g.each(b,function(b){c[a](b,null)}),this)}}var g=a("lodash"),h=a("events").EventEmitter,i=a("./deepdot");a("async");var j=a("../utils"),k=a("./models"),l=a("./search"),m=a("./contracts"),n=b.exports=function(){};n.factory=function(){var a=k.apply(null,g.toArray(arguments)),b=function(){return b.select.apply(b,g.toArray(arguments))};return g.extend(b,n.prototype),g.extend(b,h.prototype),b.build(a),b},n.prototype.build=function(a){this.models=a},n.prototype.toJSON=function(){return this.models},n.prototype.toXML=function(){return k.toXML(this.models)},n.prototype.ensure_meta=function(){this.diggerid()||this.diggerid(j.diggerid());var a=0;return this.diggerpath().length<=0&&(this.inject_paths([a]),a++),this.ensure_parent_ids(),this},n.prototype.ensure_parent_ids=function(a){var b=this;a&&this.diggerparentid(a.diggerid()),this.children().each(function(a){a.ensure_parent_ids(b)})},n.prototype.inject_paths=function(a){this.diggerpath(a),this.children().each(function(b,c){b.inject_paths(a.concat([c]))})},n.prototype.spawn=function(a){a=a||[];var b=n.factory(a);return b.supplychain=this.supplychain,b},n.prototype.clone=function(){var a=JSON.parse(JSON.stringify(this.models)),b=this.spawn(a);return b.recurse(function(a){a.diggerid(j.diggerid())}),b.ensure_parent_ids(),b},n.prototype.children=function(){var a=[];return this.each(function(b){a=a.concat(b.get(0)._children)}),this.spawn(a)},n.prototype.recurse=function(a){return this.descendents().each(a),this},n.prototype.descendents=function(){function a(c){b=b.concat(c.models),c.children().each(a)}var b=[];return a(this),this.spawn(b)},n.prototype.containers=function(){var a=this;return g.map(this.models,function(b){return a.spawn([b])})},n.prototype.skeleton=function(){return g.map(this.models,function(a){return a._digger||{}})},n.prototype.add=function(a){var b=this;return g.isArray(a)?g.each(a,function(a){b.add(a)}):this.models=this.models.concat(a.models),this},n.prototype.each=function(a){return g.each(this.containers(),a),this},n.prototype.map=function(a){return g.map(this.containers(),a)},n.prototype.count=function(){return this.models.length},n.prototype.first=function(){return this.eq(0)},n.prototype.last=function(){return this.eq(this.count()-1)},n.prototype.eq=function(a){return this.spawn(this.get(a))},n.prototype.get=function(a){return this.models[a]},n.prototype.attr=e(),n.prototype.removeAttr=f(),n.prototype.digger=e("_digger"),n.prototype.meta=e("_digger"),n.prototype.removeMeta=f("_digger"),n.prototype.data=e("_data"),n.prototype.removeData=f("_data"),n.prototype.diggerid=e("_digger","diggerid"),n.prototype.diggerparentid=e("_digger","diggerparentid"),n.prototype.diggerwarehouse=e("_digger","diggerwarehouse");var o=e("_digger","diggerpath");n.prototype.diggerpath=function(){var a=o.apply(this,g.toArray(arguments));return g.isArray(a)||(a=[]),a};var p=e("_digger","diggerbranch");n.prototype.diggerbranch=function(){var a=p.apply(this,g.toArray(arguments));return g.isArray(a)||(a=[]),a},n.prototype.addBranch=function(a){var b=this.diggerbranch();return a.each(function(a){b.push(a.diggerurl())}),this.diggerbranch(b),this},n.prototype.removeBranch=function(a){var b=this.diggerbranch();return a.each(function(a){b.splice(g.indexOf(b,a.diggerurl()))}),this.diggerbranch(b),this},n.prototype.diggerurl=function(){var a=this.diggerwarehouse(),b=this.diggerid(),c=a;return b&&"_supplychain"!=this.tag()&&("/"!=a&&(c+="/"),c+=b),c},n.prototype.id=e("_digger","id"),n.prototype.tag=e("_digger","tag"),n.prototype.classnames=e("_digger","class"),n.prototype.addClass=function(a){return g.each(this.models,function(b){b._digger.class.push(a),b._digger.class=g.uniq(b._digger.class)}),this},n.prototype.removeClass=function(a){return g.each(this.models,function(b){b._digger.class=g.without(b._digger.class,a)}),this},n.prototype.hasClass=function(a){return g.contains(this.classnames()||[],a)},n.prototype.hasAttr=function(a){return!g.isEmpty(this.attr(a))},n.prototype.isEmpty=function(){return 0===this.count()},n.prototype.inject_data=function(a){return g.extend(this.get(0),a),this},n.prototype.summary=function(a){a=a||{};var b=[],c=this.attr("name")||this.attr("title")||"";c.length>0&&a.title!==!1&&b.push(c+": "),b.push(this.tag());var d=this.id()||"";d.length>0&&b.push("#"+d);var e=this.classnames()||[];return e.length>0&&(b=b.concat(g.map(e,function(a){return"."+a}))),b.join("")},n.prototype.toString=function(){return this.summary()},n.prototype.find=l.find,n.prototype.sort=l.sort,n.prototype.filter=l.filter,n.prototype.match=l.match,n.prototype.bindcontract=m.bindcontract,n.prototype.select=m.select,n.prototype.append=m.append,n.prototype.save=m.save,n.prototype.remove=m.remove},{events:3,"./deepdot":12,"../utils":13,"./models":14,"./contracts":15,"./search":16,lodash:7,async:8}],6:[function(a,b){function c(){function a(){}var b="/",c=null,g=null;e.each(e.toArray(arguments),function(a){e.isFunction(a)?e.isFunction(a.diggerid)?g=a:c=a:e.isString(a)?(g=f.factory("_supplychain"),b=a):(e.isArray(a)||e.isObject(a))&&(e.isArray(a)||(a=[a]),g=f.factory(a))}),g||(g=f.factory("_supplychain")),c||(c=function(a,b){b.send404()}),g.diggerwarehouse()||g.diggerwarehouse(b);var k="warehouse"==c._diggertype||"supplier"==c._diggertype||"provider"==c._diggertype;return e.extend(a,d.prototype),a.ship=function(a,b){var d=h.factory(function(){d.resolve(function(c){k&&(c=JSON.parse(JSON.stringify(c)));var e=c;"digger/containers"===a.getHeader("x-expect")&&(e=c&&c.length>0?g.spawn(c):g.spawn()),a.emit("shipped",e),b(e,d)})});return k&&e.each(JSON.parse(JSON.stringify(a.toJSON())),function(b,c){a[c]=b}),c(a,d),d},a.listen=function(a,b){return c.switchboard&&c.switchboard.listen(a,b),this},a.broadcast=function(a,b){return c.switchboard&&c.switchboard.broadcast(a,b),this},g.supplychain=a,g.connect=function(b){var c=f.factory("_supplychain");return c.diggerwarehouse(b),c.supplychain=a,c},g.merge=function(b){var c=i(b);return c.supplychain=a,c},g.sequence=function(b){var c=j(b);return c.supplychain=a,c},g}var d=a("events").EventEmitter,e=a("lodash"),f=a("../container/proto"),g=a("../network/contract"),h=a("../network/response"),i=g.mergefactory,j=g.sequencefactory;b.exports=c},{events:3,"../container/proto":5,"../network/contract":17,"../network/response":18,lodash:7}],13:[function(a,b){!function(){function c(){var a,b,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!0,l=Object.prototype.toString,m=Object.prototype.hasOwnProperty,n=(Array.prototype.push,Array.prototype.slice,String.prototype.trim,Array.prototype.indexOf,{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"}),o={isFunction:function(a){return"function"===o.type(a)},isArray:Array.isArray||function(a){return"array"===o.type(a)},isWindow:function(a){return null!==a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null===a?String(a):n[l.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==o.type(a)||a.nodeType)return!1;try{if(a.constructor&&!m.call(a,"constructor")&&!m.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}var c;for(c in a);return void 0===c||m.call(a,c)}};for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||o.isFunction(h)||(h={}),j===i&&(h=this,--i),i;j>i;i++)if(null!==(a=arguments[i]))for(b in a)d=h[b],e=a[b],h!==e&&(k&&e&&(o.isPlainObject(e)||(f=o.isArray(e)))?(f?(f=!1,g=d&&o.isArray(d)?d:[]):g=d&&o.isPlainObject(d)?d:{},h[b]=c(k,g,e)):void 0!==e&&(h[b]=e));return h}var d=a("lodash"),e=a("url"),f=a("node-uuid"),g=b.exports={};g.diggerid=function(){return f.v1().replace(/-/g,"")},g.littleid=function(){var a="xxxxxx";return a.replace(/[xy]/g,function(a){var b=0|16*Math.random(),c="x"==a?b:8|3&b;return c.toString(16)})},g.escapeRegexp=function(a){return a.replace(/([\!\$\(\)\*\+\.\/\:\=\?\[\\\]\^\{\|\}])/g,"\\$1")},g.escape=function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},g.parseUrl=function(a){var b=a._parsedUrl;return b&&b.href==a.url?b:a._parsedUrl=e.parse(a.url)},g.makeroute=function(a,b){var c=d.filter(a||[],function(a){return d.isNumber(a)||!d.isEmpty(a)}).join("/");return b&&(c=c.replace(/\//g,b),0===c.indexOf(b)&&(c=c.substr(1))),c.replace(/\/\//g,"/")},g.extend=c}()},{url:9,"node-uuid":19,lodash:7}],20:[function(a,b){a=function(a,b,c,d){function e(d){if(!c[d]){if(!b[d]){if(a)return a(d);throw new Error("Cannot find module '"+d+"'")}var f=c[d]={exports:{}};b[d][0](function(a){var c=b[d][1][a];return e(c?c:a)},f,f.exports)}return c[d].exports}for(var f=0;f<d.length;f++)e(d[f]);return e}("undefined"!=typeof a&&a,{1:[function(a,b,c){c.readIEEE754=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?0:e-1,m=c?1:-1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?0/0:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.writeIEEE754=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?f-1:0,o=d?-1:1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||1/0===b?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],2:[function(a,b){!function(){function c(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}function d(a,b){return void 0===b?""+b:"number"!=typeof b||!isNaN(b)&&isFinite(b)?"function"==typeof b||b instanceof RegExp?b.toString():b:b.toString()}function e(a,b){return"string"==typeof a?a.length<b?a:a.slice(0,b):a}function f(a,b,c,d,e){throw new q.AssertionError({message:c,actual:a,expected:b,operator:d,stackStartFunction:e})}function g(a,b){a||f(a,!0,b,"==",q.ok)}function h(a,b){if(a===b)return!0;if(o.isBuffer(a)&&o.isBuffer(b)){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}return a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():"object"!=typeof a&&"object"!=typeof b?a==b:k(a,b)}function i(a){return null===a||void 0===a}function j(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function k(a,b){if(i(a)||i(b))return!1;if(a.prototype!==b.prototype)return!1;if(j(a))return j(b)?(a=p.call(a),b=p.call(b),h(a,b)):!1;try{var d,e,f=c(a),g=c(b)}catch(k){return!1}if(f.length!=g.length)return!1;for(f.sort(),g.sort(),e=f.length-1;e>=0;e--)if(f[e]!=g[e])return!1;for(e=f.length-1;e>=0;e--)if(d=f[e],!h(a[d],b[d]))return!1;return!0}function l(a,b){return a&&b?b instanceof RegExp?b.test(a):a instanceof b?!0:b.call({},a)===!0?!0:!1:!1}function m(a,b,c,d){var e;"string"==typeof c&&(d=c,c=null);try{b()}catch(g){e=g}if(d=(c&&c.name?" ("+c.name+").":".")+(d?" "+d:"."),a&&!e&&f("Missing expected exception"+d),!a&&l(e,c)&&f("Got unwanted exception"+d),a&&e&&c&&!l(e,c)||!a&&e)throw e}var n=a("util"),o=a("buffer").Buffer,p=Array.prototype.slice,q=b.exports=g;q.AssertionError=function(a){this.name="AssertionError",this.message=a.message,this.actual=a.actual,this.expected=a.expected,this.operator=a.operator;var b=a.stackStartFunction||f;Error.captureStackTrace&&Error.captureStackTrace(this,b)},n.inherits(q.AssertionError,Error),q.AssertionError.prototype.toString=function(){return this.message?[this.name+":",this.message].join(" "):[this.name+":",e(JSON.stringify(this.actual,d),128),this.operator,e(JSON.stringify(this.expected,d),128)].join(" ")},q.AssertionError.__proto__=Error.prototype,q.fail=f,q.ok=g,q.equal=function(a,b,c){a!=b&&f(a,b,c,"==",q.equal)},q.notEqual=function(a,b,c){a==b&&f(a,b,c,"!=",q.notEqual)},q.deepEqual=function(a,b,c){h(a,b)||f(a,b,c,"deepEqual",q.deepEqual)},q.notDeepEqual=function(a,b,c){h(a,b)&&f(a,b,c,"notDeepEqual",q.notDeepEqual)},q.strictEqual=function(a,b,c){a!==b&&f(a,b,c,"===",q.strictEqual)},q.notStrictEqual=function(a,b,c){a===b&&f(a,b,c,"!==",q.notStrictEqual)},q.throws=function(){m.apply(this,[!0].concat(p.call(arguments)))},q.doesNotThrow=function(){m.apply(this,[!1].concat(p.call(arguments)))},q.ifError=function(a){if(a)throw a
}}()},{util:3,buffer:4}],"buffer-browserify":[function(a,b){b.exports=a("q9TxCC")},{}],q9TxCC:[function(a,b,c){!function(){function b(a){this.length=a}function d(a){return 16>a?"0"+a.toString(16):a.toString(16)}function e(a){for(var b=[],c=0;c<a.length;c++)if(a.charCodeAt(c)<=127)b.push(a.charCodeAt(c));else for(var d=encodeURIComponent(a.charAt(c)).substr(1).split("%"),e=0;e<d.length;e++)b.push(parseInt(d[e],16));return b}function f(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function g(b){return a("base64-js").toByteArray(b)}function h(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);)b[e+c]=a[e],e++;return e}function i(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}function j(a){return a=~~Math.ceil(+a),0>a?0:a}function k(a,c,d){if(!(this instanceof k))return new k(a,c,d);var e;if("number"==typeof d)this.length=j(c),this.parent=a,this.offset=d;else{switch(e=typeof a){case"number":this.length=j(a);break;case"string":this.length=k.byteLength(a,c);break;case"object":this.length=j(a.length);break;default:throw new Error("First argument needs to be a number, array or string.")}if(this.length>k.poolSize?(this.parent=new b(this.length),this.offset=0):((!D||D.length-D.used<this.length)&&m(),this.parent=D,this.offset=D.used,D.used+=this.length),l(a))for(var f=0;f<this.length;f++)this.parent[f+this.offset]=a instanceof k?a.readUInt8(f):a[f];else"string"==e&&(this.length=this.write(a,0,c))}}function l(a){return Array.isArray(a)||k.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length}function m(){D=new b(k.poolSize),D.used=0}function n(a,b,c,d){var e=0;return d||(C.ok("boolean"==typeof c,"missing or invalid endian"),C.ok(void 0!==b&&null!==b,"missing offset"),C.ok(b+1<a.length,"Trying to read beyond buffer length")),b>=a.length?0:(c?(e=a.parent[a.offset+b]<<8,b+1<a.length&&(e|=a.parent[a.offset+b+1])):(e=a.parent[a.offset+b],b+1<a.length&&(e|=a.parent[a.offset+b+1]<<8)),e)}function o(a,b,c,d){var e=0;return d||(C.ok("boolean"==typeof c,"missing or invalid endian"),C.ok(void 0!==b&&null!==b,"missing offset"),C.ok(b+3<a.length,"Trying to read beyond buffer length")),b>=a.length?0:(c?(b+1<a.length&&(e=a.parent[a.offset+b+1]<<16),b+2<a.length&&(e|=a.parent[a.offset+b+2]<<8),b+3<a.length&&(e|=a.parent[a.offset+b+3]),e+=a.parent[a.offset+b]<<24>>>0):(b+2<a.length&&(e=a.parent[a.offset+b+2]<<16),b+1<a.length&&(e|=a.parent[a.offset+b+1]<<8),e|=a.parent[a.offset+b],b+3<a.length&&(e+=a.parent[a.offset+b+3]<<24>>>0)),e)}function p(a,b,c,d){var e,f;return d||(C.ok("boolean"==typeof c,"missing or invalid endian"),C.ok(void 0!==b&&null!==b,"missing offset"),C.ok(b+1<a.length,"Trying to read beyond buffer length")),f=n(a,b,c,d),e=32768&f,e?-1*(65535-f+1):f}function q(a,b,c,d){var e,f;return d||(C.ok("boolean"==typeof c,"missing or invalid endian"),C.ok(void 0!==b&&null!==b,"missing offset"),C.ok(b+3<a.length,"Trying to read beyond buffer length")),f=o(a,b,c,d),e=2147483648&f,e?-1*(4294967295-f+1):f}function r(b,c,d,e){return e||(C.ok("boolean"==typeof d,"missing or invalid endian"),C.ok(c+3<b.length,"Trying to read beyond buffer length")),a("./buffer_ieee754").readIEEE754(b,c,d,23,4)}function s(b,c,d,e){return e||(C.ok("boolean"==typeof d,"missing or invalid endian"),C.ok(c+7<b.length,"Trying to read beyond buffer length")),a("./buffer_ieee754").readIEEE754(b,c,d,52,8)}function t(a,b){C.ok("number"==typeof a,"cannot write a non-number as a number"),C.ok(a>=0,"specified a negative value for writing an unsigned value"),C.ok(b>=a,"value is larger than maximum value for type"),C.ok(Math.floor(a)===a,"value has a fractional component")}function u(a,b,c,d,e){e||(C.ok(void 0!==b&&null!==b,"missing value"),C.ok("boolean"==typeof d,"missing or invalid endian"),C.ok(void 0!==c&&null!==c,"missing offset"),C.ok(c+1<a.length,"trying to write beyond buffer length"),t(b,65535));for(var f=0;f<Math.min(a.length-c,2);f++)a.parent[a.offset+c+f]=(b&255<<8*(d?1-f:f))>>>8*(d?1-f:f)}function v(a,b,c,d,e){e||(C.ok(void 0!==b&&null!==b,"missing value"),C.ok("boolean"==typeof d,"missing or invalid endian"),C.ok(void 0!==c&&null!==c,"missing offset"),C.ok(c+3<a.length,"trying to write beyond buffer length"),t(b,4294967295));for(var f=0;f<Math.min(a.length-c,4);f++)a.parent[a.offset+c+f]=255&b>>>8*(d?3-f:f)}function w(a,b,c){C.ok("number"==typeof a,"cannot write a non-number as a number"),C.ok(b>=a,"value larger than maximum allowed value"),C.ok(a>=c,"value smaller than minimum allowed value"),C.ok(Math.floor(a)===a,"value has a fractional component")}function x(a,b,c){C.ok("number"==typeof a,"cannot write a non-number as a number"),C.ok(b>=a,"value larger than maximum allowed value"),C.ok(a>=c,"value smaller than minimum allowed value")}function y(a,b,c,d,e){e||(C.ok(void 0!==b&&null!==b,"missing value"),C.ok("boolean"==typeof d,"missing or invalid endian"),C.ok(void 0!==c&&null!==c,"missing offset"),C.ok(c+1<a.length,"Trying to write beyond buffer length"),w(b,32767,-32768)),b>=0?u(a,b,c,d,e):u(a,65535+b+1,c,d,e)}function z(a,b,c,d,e){e||(C.ok(void 0!==b&&null!==b,"missing value"),C.ok("boolean"==typeof d,"missing or invalid endian"),C.ok(void 0!==c&&null!==c,"missing offset"),C.ok(c+3<a.length,"Trying to write beyond buffer length"),w(b,2147483647,-2147483648)),b>=0?v(a,b,c,d,e):v(a,4294967295+b+1,c,d,e)}function A(b,c,d,e,f){f||(C.ok(void 0!==c&&null!==c,"missing value"),C.ok("boolean"==typeof e,"missing or invalid endian"),C.ok(void 0!==d&&null!==d,"missing offset"),C.ok(d+3<b.length,"Trying to write beyond buffer length"),x(c,3.4028234663852886e38,-3.4028234663852886e38)),a("./buffer_ieee754").writeIEEE754(b,c,d,e,23,4)}function B(b,c,d,e,f){f||(C.ok(void 0!==c&&null!==c,"missing value"),C.ok("boolean"==typeof e,"missing or invalid endian"),C.ok(void 0!==d&&null!==d,"missing offset"),C.ok(d+7<b.length,"Trying to write beyond buffer length"),x(c,1.7976931348623157e308,-1.7976931348623157e308)),a("./buffer_ieee754").writeIEEE754(b,c,d,e,52,8)}var C=a("assert");c.INSPECT_MAX_BYTES=50,b.byteLength=function(a,b){switch(b||"utf8"){case"hex":return a.length/2;case"utf8":case"utf-8":return e(a).length;case"ascii":case"binary":return a.length;case"base64":return g(a).length;default:throw new Error("Unknown encoding")}},b.prototype.utf8Write=function(a,c,d){return b._charsWritten=h(e(a),this,c,d)},b.prototype.asciiWrite=function(a,c,d){return b._charsWritten=h(f(a),this,c,d)},b.prototype.binaryWrite=b.prototype.asciiWrite,b.prototype.base64Write=function(a,c,d){return b._charsWritten=h(g(a),this,c,d)},b.prototype.base64Slice=function(){var b=Array.prototype.slice.apply(this,arguments);return a("base64-js").fromByteArray(b)},b.prototype.utf8Slice=function(){for(var a=Array.prototype.slice.apply(this,arguments),b="",c="",d=0;d<a.length;)a[d]<=127?(b+=i(c)+String.fromCharCode(a[d]),c=""):c+="%"+a[d].toString(16),d++;return b+i(c)},b.prototype.asciiSlice=function(){for(var a=Array.prototype.slice.apply(this,arguments),b="",c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},b.prototype.binarySlice=b.prototype.asciiSlice,b.prototype.inspect=function(){for(var a=[],b=this.length,e=0;b>e;e++)if(a[e]=d(this[e]),e==c.INSPECT_MAX_BYTES){a[e+1]="...";break}return"<SlowBuffer "+a.join(" ")+">"},b.prototype.hexSlice=function(a,b){var c=this.length;(!a||0>a)&&(a=0),(!b||0>b||b>c)&&(b=c);for(var e="",f=a;b>f;f++)e+=d(this[f]);return e},b.prototype.toString=function(a,b,c){if(a=String(a||"utf8").toLowerCase(),b=+b||0,"undefined"==typeof c&&(c=this.length),+c==b)return"";switch(a){case"hex":return this.hexSlice(b,c);case"utf8":case"utf-8":return this.utf8Slice(b,c);case"ascii":return this.asciiSlice(b,c);case"binary":return this.binarySlice(b,c);case"base64":return this.base64Slice(b,c);case"ucs2":case"ucs-2":return this.ucs2Slice(b,c);default:throw new Error("Unknown encoding")}},b.prototype.hexWrite=function(a,c,d){c=+c||0;var e=this.length-c;d?(d=+d,d>e&&(d=e)):d=e;var f=a.length;if(f%2)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;d>g;g++){var h=parseInt(a.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");this[c+g]=h}return b._charsWritten=2*g,g},b.prototype.write=function(a,b,c,d){if(isFinite(b))isFinite(c)||(d=c,c=void 0);else{var e=d;d=b,b=c,c=e}b=+b||0;var f=this.length-b;switch(c?(c=+c,c>f&&(c=f)):c=f,d=String(d||"utf8").toLowerCase()){case"hex":return this.hexWrite(a,b,c);case"utf8":case"utf-8":return this.utf8Write(a,b,c);case"ascii":return this.asciiWrite(a,b,c);case"binary":return this.binaryWrite(a,b,c);case"base64":return this.base64Write(a,b,c);case"ucs2":case"ucs-2":return this.ucs2Write(a,b,c);default:throw new Error("Unknown encoding")}},b.prototype.slice=function(a,b){if(void 0===b&&(b=this.length),b>this.length)throw new Error("oob");if(a>b)throw new Error("oob");return new k(this,b-a,+a)},b.prototype.copy=function(a,b,c,d){for(var e=[],f=c;d>f;f++)C.ok("undefined"!=typeof this[f],"copying undefined buffer bytes!"),e.push(this[f]);for(var f=b;f<b+e.length;f++)a[f]=e[f-b]},b.prototype.fill=function(a,b,c){if(c>this.length)throw new Error("oob");if(b>c)throw new Error("oob");for(var d=b;c>d;d++)this[d]=a},c.SlowBuffer=b,c.Buffer=k,k.poolSize=8192;var D;k.isBuffer=function(a){return a instanceof k||a instanceof b},k.concat=function(a,b){if(!Array.isArray(a))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===a.length)return new k(0);if(1===a.length)return a[0];if("number"!=typeof b){b=0;for(var c=0;c<a.length;c++){var d=a[c];b+=d.length}}for(var e=new k(b),f=0,c=0;c<a.length;c++){var d=a[c];d.copy(e,f),f+=d.length}return e},k.prototype.inspect=function(){for(var a=[],b=this.length,e=0;b>e;e++)if(a[e]=d(this.parent[e+this.offset]),e==c.INSPECT_MAX_BYTES){a[e+1]="...";break}return"<Buffer "+a.join(" ")+">"},k.prototype.get=function(a){if(0>a||a>=this.length)throw new Error("oob");return this.parent[this.offset+a]},k.prototype.set=function(a,b){if(0>a||a>=this.length)throw new Error("oob");return this.parent[this.offset+a]=b},k.prototype.write=function(a,c,d,e){if(isFinite(c))isFinite(d)||(e=d,d=void 0);else{var f=e;e=c,c=d,d=f}c=+c||0;var g=this.length-c;d?(d=+d,d>g&&(d=g)):d=g,e=String(e||"utf8").toLowerCase();var h;switch(e){case"hex":h=this.parent.hexWrite(a,this.offset+c,d);break;case"utf8":case"utf-8":h=this.parent.utf8Write(a,this.offset+c,d);break;case"ascii":h=this.parent.asciiWrite(a,this.offset+c,d);break;case"binary":h=this.parent.binaryWrite(a,this.offset+c,d);break;case"base64":h=this.parent.base64Write(a,this.offset+c,d);break;case"ucs2":case"ucs-2":h=this.parent.ucs2Write(a,this.offset+c,d);break;default:throw new Error("Unknown encoding")}return k._charsWritten=b._charsWritten,h},k.prototype.toString=function(a,b,c){switch(a=String(a||"utf8").toLowerCase(),"undefined"==typeof b||0>b?b=0:b>this.length&&(b=this.length),"undefined"==typeof c||c>this.length?c=this.length:0>c&&(c=0),b+=this.offset,c+=this.offset,a){case"hex":return this.parent.hexSlice(b,c);case"utf8":case"utf-8":return this.parent.utf8Slice(b,c);case"ascii":return this.parent.asciiSlice(b,c);case"binary":return this.parent.binarySlice(b,c);case"base64":return this.parent.base64Slice(b,c);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(b,c);default:throw new Error("Unknown encoding")}},k.byteLength=b.byteLength,k.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),"string"==typeof a&&(a=a.charCodeAt(0)),"number"!=typeof a||isNaN(a))throw new Error("value is not a number");if(b>c)throw new Error("end < start");if(c===b)return 0;if(0==this.length)return 0;if(0>b||b>=this.length)throw new Error("start out of bounds");if(0>c||c>this.length)throw new Error("end out of bounds");return this.parent.fill(a,b+this.offset,c+this.offset)},k.prototype.copy=function(a,b,c,d){var e=this;if(c||(c=0),d||(d=this.length),b||(b=0),c>d)throw new Error("sourceEnd < sourceStart");if(d===c)return 0;if(0==a.length||0==e.length)return 0;if(0>b||b>=a.length)throw new Error("targetStart out of bounds");if(0>c||c>=e.length)throw new Error("sourceStart out of bounds");if(0>d||d>e.length)throw new Error("sourceEnd out of bounds");return d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c),this.parent.copy(a.parent,b+a.offset,c+this.offset,d+this.offset)},k.prototype.slice=function(a,b){if(void 0===b&&(b=this.length),b>this.length)throw new Error("oob");if(a>b)throw new Error("oob");return new k(this.parent,b-a,+a+this.offset)},k.prototype.utf8Slice=function(a,b){return this.toString("utf8",a,b)},k.prototype.binarySlice=function(a,b){return this.toString("binary",a,b)},k.prototype.asciiSlice=function(a,b){return this.toString("ascii",a,b)},k.prototype.utf8Write=function(a,b){return this.write(a,b,"utf8")},k.prototype.binaryWrite=function(a,b){return this.write(a,b,"binary")},k.prototype.asciiWrite=function(a,b){return this.write(a,b,"ascii")},k.prototype.readUInt8=function(a,b){var c=this;return b||(C.ok(void 0!==a&&null!==a,"missing offset"),C.ok(a<c.length,"Trying to read beyond buffer length")),a>=c.length?void 0:c.parent[c.offset+a]},k.prototype.readUInt16LE=function(a,b){return n(this,a,!1,b)},k.prototype.readUInt16BE=function(a,b){return n(this,a,!0,b)},k.prototype.readUInt32LE=function(a,b){return o(this,a,!1,b)},k.prototype.readUInt32BE=function(a,b){return o(this,a,!0,b)},k.prototype.readInt8=function(a,b){var c,d=this;return b||(C.ok(void 0!==a&&null!==a,"missing offset"),C.ok(a<d.length,"Trying to read beyond buffer length")),a>=d.length?void 0:(c=128&d.parent[d.offset+a],c?-1*(255-d.parent[d.offset+a]+1):d.parent[d.offset+a])},k.prototype.readInt16LE=function(a,b){return p(this,a,!1,b)},k.prototype.readInt16BE=function(a,b){return p(this,a,!0,b)},k.prototype.readInt32LE=function(a,b){return q(this,a,!1,b)},k.prototype.readInt32BE=function(a,b){return q(this,a,!0,b)},k.prototype.readFloatLE=function(a,b){return r(this,a,!1,b)},k.prototype.readFloatBE=function(a,b){return r(this,a,!0,b)},k.prototype.readDoubleLE=function(a,b){return s(this,a,!1,b)},k.prototype.readDoubleBE=function(a,b){return s(this,a,!0,b)},k.prototype.writeUInt8=function(a,b,c){var d=this;c||(C.ok(void 0!==a&&null!==a,"missing value"),C.ok(void 0!==b&&null!==b,"missing offset"),C.ok(b<d.length,"trying to write beyond buffer length"),t(a,255)),b<d.length&&(d.parent[d.offset+b]=a)},k.prototype.writeUInt16LE=function(a,b,c){u(this,a,b,!1,c)},k.prototype.writeUInt16BE=function(a,b,c){u(this,a,b,!0,c)},k.prototype.writeUInt32LE=function(a,b,c){v(this,a,b,!1,c)},k.prototype.writeUInt32BE=function(a,b,c){v(this,a,b,!0,c)},k.prototype.writeInt8=function(a,b,c){var d=this;c||(C.ok(void 0!==a&&null!==a,"missing value"),C.ok(void 0!==b&&null!==b,"missing offset"),C.ok(b<d.length,"Trying to write beyond buffer length"),w(a,127,-128)),a>=0?d.writeUInt8(a,b,c):d.writeUInt8(255+a+1,b,c)},k.prototype.writeInt16LE=function(a,b,c){y(this,a,b,!1,c)},k.prototype.writeInt16BE=function(a,b,c){y(this,a,b,!0,c)},k.prototype.writeInt32LE=function(a,b,c){z(this,a,b,!1,c)},k.prototype.writeInt32BE=function(a,b,c){z(this,a,b,!0,c)},k.prototype.writeFloatLE=function(a,b,c){A(this,a,b,!1,c)},k.prototype.writeFloatBE=function(a,b,c){A(this,a,b,!0,c)},k.prototype.writeDoubleLE=function(a,b,c){B(this,a,b,!1,c)},k.prototype.writeDoubleBE=function(a,b,c){B(this,a,b,!0,c)},b.prototype.readUInt8=k.prototype.readUInt8,b.prototype.readUInt16LE=k.prototype.readUInt16LE,b.prototype.readUInt16BE=k.prototype.readUInt16BE,b.prototype.readUInt32LE=k.prototype.readUInt32LE,b.prototype.readUInt32BE=k.prototype.readUInt32BE,b.prototype.readInt8=k.prototype.readInt8,b.prototype.readInt16LE=k.prototype.readInt16LE,b.prototype.readInt16BE=k.prototype.readInt16BE,b.prototype.readInt32LE=k.prototype.readInt32LE,b.prototype.readInt32BE=k.prototype.readInt32BE,b.prototype.readFloatLE=k.prototype.readFloatLE,b.prototype.readFloatBE=k.prototype.readFloatBE,b.prototype.readDoubleLE=k.prototype.readDoubleLE,b.prototype.readDoubleBE=k.prototype.readDoubleBE,b.prototype.writeUInt8=k.prototype.writeUInt8,b.prototype.writeUInt16LE=k.prototype.writeUInt16LE,b.prototype.writeUInt16BE=k.prototype.writeUInt16BE,b.prototype.writeUInt32LE=k.prototype.writeUInt32LE,b.prototype.writeUInt32BE=k.prototype.writeUInt32BE,b.prototype.writeInt8=k.prototype.writeInt8,b.prototype.writeInt16LE=k.prototype.writeInt16LE,b.prototype.writeInt16BE=k.prototype.writeInt16BE,b.prototype.writeInt32LE=k.prototype.writeInt32LE,b.prototype.writeInt32BE=k.prototype.writeInt32BE,b.prototype.writeFloatLE=k.prototype.writeFloatLE,b.prototype.writeFloatBE=k.prototype.writeFloatBE,b.prototype.writeDoubleLE=k.prototype.writeDoubleLE,b.prototype.writeDoubleBE=k.prototype.writeDoubleBE}()},{assert:2,"./buffer_ieee754":1,"base64-js":5}],3:[function(a,b,c){function d(a){return a instanceof Array||Array.isArray(a)||a&&a!==Object.prototype&&d(a.__proto__)}function e(a){return a instanceof RegExp||"object"==typeof a&&"[object RegExp]"===Object.prototype.toString.call(a)}function f(a){if(a instanceof Date)return!0;if("object"!=typeof a)return!1;var b=Date.prototype&&h(Date.prototype),c=a.__proto__&&h(a.__proto__);return JSON.stringify(c)===JSON.stringify(b)}a("events"),c.isArray=d,c.isDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)},c.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)},c.print=function(){},c.puts=function(){},c.debug=function(){},c.inspect=function(a,b,i,j){function k(a,i){if(a&&"function"==typeof a.inspect&&a!==c&&(!a.constructor||a.constructor.prototype!==a))return a.inspect(i);switch(typeof a){case"undefined":return m("undefined","undefined");case"string":var j="'"+JSON.stringify(a).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return m(j,"string");case"number":return m(""+a,"number");case"boolean":return m(""+a,"boolean")}if(null===a)return m("null","null");var n=g(a),o=b?h(a):n;if("function"==typeof a&&0===o.length){if(e(a))return m(""+a,"regexp");var p=a.name?": "+a.name:"";return m("[Function"+p+"]","special")}if(f(a)&&0===o.length)return m(a.toUTCString(),"date");var q,r,s;if(d(a)?(r="Array",s=["[","]"]):(r="Object",s=["{","}"]),"function"==typeof a){var t=a.name?": "+a.name:"";q=e(a)?" "+a:" [Function"+t+"]"}else q="";if(f(a)&&(q=" "+a.toUTCString()),0===o.length)return s[0]+q+s[1];if(0>i)return e(a)?m(""+a,"regexp"):m("[Object]","special");l.push(a);var u=o.map(function(b){var c,e;if(a.__lookupGetter__&&(a.__lookupGetter__(b)?e=a.__lookupSetter__(b)?m("[Getter/Setter]","special"):m("[Getter]","special"):a.__lookupSetter__(b)&&(e=m("[Setter]","special"))),n.indexOf(b)<0&&(c="["+b+"]"),e||(l.indexOf(a[b])<0?(e=null===i?k(a[b]):k(a[b],i-1),e.indexOf("\n")>-1&&(e=d(a)?e.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+e.split("\n").map(function(a){return"   "+a}).join("\n"))):e=m("[Circular]","special")),"undefined"==typeof c){if("Array"===r&&b.match(/^\d+$/))return e;c=JSON.stringify(""+b),c.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),c=m(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=m(c,"string"))}return c+": "+e});l.pop();var v=0,w=u.reduce(function(a,b){return v++,b.indexOf("\n")>=0&&v++,a+b.length+1},0);return u=w>50?s[0]+(""===q?"":q+"\n ")+" "+u.join(",\n  ")+" "+s[1]:s[0]+q+" "+u.join(", ")+" "+s[1]}var l=[],m=function(a,b){var c={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[b];return d?"["+c[d][0]+"m"+a+"["+c[d][1]+"m":a};return j||(m=function(a){return a}),k(a,"undefined"==typeof i?2:i)},c.log=function(){},c.pump=null;var g=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b},h=Object.getOwnPropertyNames||function(a){var b=[];for(var c in a)Object.hasOwnProperty.call(a,c)&&b.push(c);return b},i=Object.create||function(a,b){var c;if(null===a)c={__proto__:null};else{if("object"!=typeof a)throw new TypeError("typeof prototype["+typeof a+"] != 'object'");var d=function(){};d.prototype=a,c=new d,c.__proto__=a}return"undefined"!=typeof b&&Object.defineProperties&&Object.defineProperties(c,b),c};c.inherits=function(a,b){a.super_=b,a.prototype=i(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})};var j=/%[sdj%]/g;c.format=function(a){if("string"!=typeof a){for(var b=[],d=0;d<arguments.length;d++)b.push(c.inspect(arguments[d]));return b.join(" ")}for(var d=1,e=arguments,f=e.length,g=String(a).replace(j,function(a){if("%%"===a)return"%";if(d>=f)return a;switch(a){case"%s":return String(e[d++]);case"%d":return Number(e[d++]);case"%j":return JSON.stringify(e[d++]);default:return a}}),h=e[d];f>d;h=e[++d])g+=null===h||"object"!=typeof h?" "+h:" "+c.inspect(h);return g}},{events:6}],5:[function(a,b){!function(){"use strict";function a(a){var b,c,e,f,g,h;if(a.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(g=a.indexOf("="),g=g>0?a.length-g:0,h=[],e=g>0?a.length-4:a.length,b=0,c=0;e>b;b+=4,c+=3)f=d.indexOf(a[b])<<18|d.indexOf(a[b+1])<<12|d.indexOf(a[b+2])<<6|d.indexOf(a[b+3]),h.push((16711680&f)>>16),h.push((65280&f)>>8),h.push(255&f);return 2===g?(f=d.indexOf(a[b])<<2|d.indexOf(a[b+1])>>4,h.push(255&f)):1===g&&(f=d.indexOf(a[b])<<10|d.indexOf(a[b+1])<<4|d.indexOf(a[b+2])>>2,h.push(255&f>>8),h.push(255&f)),h}function c(a){function b(a){return d[63&a>>18]+d[63&a>>12]+d[63&a>>6]+d[63&a]}var c,e,f,g=a.length%3,h="";for(c=0,f=a.length-g;f>c;c+=3)e=(a[c]<<16)+(a[c+1]<<8)+a[c+2],h+=b(e);switch(g){case 1:e=a[a.length-1],h+=d[e>>2],h+=d[63&e<<4],h+="==";break;case 2:e=(a[a.length-2]<<8)+a[a.length-1],h+=d[e>>10],h+=d[63&e>>4],h+=d[63&e<<2],h+="="}return h}var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";b.exports.toByteArray=a,b.exports.fromByteArray=c}()},{}],7:[function(a,b,c){c.readIEEE754=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?0:e-1,m=c?1:-1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?0/0:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.writeIEEE754=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?f-1:0,o=d?-1:1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||1/0===b?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],8:[function(a,b){var c=b.exports={};c.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){if(a.source===window&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var b=c.shift();b()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),c.title="browser",c.browser=!0,c.env={},c.argv=[],c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")}},{}],6:[function(a,b,c){!function(a){function b(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1}a.EventEmitter||(a.EventEmitter=function(){});var d=c.EventEmitter=a.EventEmitter,e="function"==typeof Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},f=10;d.prototype.setMaxListeners=function(a){this._events||(this._events={}),this._events.maxListeners=a},d.prototype.emit=function(a){if("error"===a&&(!this._events||!this._events.error||e(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var b=this._events[a];if(!b)return!1;if("function"==typeof b){switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:var c=Array.prototype.slice.call(arguments,1);b.apply(this,c)}return!0}if(e(b)){for(var c=Array.prototype.slice.call(arguments,1),d=b.slice(),f=0,g=d.length;g>f;f++)d[f].apply(this,c);return!0}return!1},d.prototype.addListener=function(a,b){if("function"!=typeof b)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",a,b),this._events[a])if(e(this._events[a])){if(!this._events[a].warned){var c;c=void 0!==this._events.maxListeners?this._events.maxListeners:f,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}this._events[a].push(b)}else this._events[a]=[this._events[a],b];else this._events[a]=b;return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){var c=this;return c.on(a,function d(){c.removeListener(a,d),b.apply(this,arguments)}),this},d.prototype.removeListener=function(a,c){if("function"!=typeof c)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[a])return this;var d=this._events[a];if(e(d)){var f=b(d,c);if(0>f)return this;d.splice(f,1),0==d.length&&delete this._events[a]}else this._events[a]===c&&delete this._events[a];return this},d.prototype.removeAllListeners=function(a){return 0===arguments.length?(this._events={},this):(a&&this._events&&this._events[a]&&(this._events[a]=null),this)},d.prototype.listeners=function(a){return this._events||(this._events={}),this._events[a]||(this._events[a]=[]),e(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]}}(a("__browserify_process"))},{__browserify_process:8}],4:[function(a,b,c){!function(){function b(a){this.length=a}function d(a){return 16>a?"0"+a.toString(16):a.toString(16)}function e(a){for(var b=[],c=0;c<a.length;c++)if(a.charCodeAt(c)<=127)b.push(a.charCodeAt(c));else for(var d=encodeURIComponent(a.charAt(c)).substr(1).split("%"),e=0;e<d.length;e++)b.push(parseInt(d[e],16));return b}function f(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function g(b){return a("base64-js").toByteArray(b)}function h(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);)b[e+c]=a[e],e++;return e}function i(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}function j(a){return a=~~Math.ceil(+a),0>a?0:a}function k(a,c,d){if(!(this instanceof k))return new k(a,c,d);var e;if("number"==typeof d)this.length=j(c),this.parent=a,this.offset=d;else{switch(e=typeof a){case"number":this.length=j(a);break;case"string":this.length=k.byteLength(a,c);break;case"object":this.length=j(a.length);break;default:throw new Error("First argument needs to be a number, array or string.")}if(this.length>k.poolSize?(this.parent=new b(this.length),this.offset=0):((!D||D.length-D.used<this.length)&&m(),this.parent=D,this.offset=D.used,D.used+=this.length),l(a))for(var f=0;f<this.length;f++)this.parent[f+this.offset]=a[f];else"string"==e&&(this.length=this.write(a,0,c))}}function l(a){return Array.isArray(a)||k.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length}function m(){D=new b(k.poolSize),D.used=0}function n(a,b,c,d){var e=0;return d||(C.ok("boolean"==typeof c,"missing or invalid endian"),C.ok(void 0!==b&&null!==b,"missing offset"),C.ok(b+1<a.length,"Trying to read beyond buffer length")),c?(e=a.parent[a.offset+b]<<8,e|=a.parent[a.offset+b+1]):(e=a.parent[a.offset+b],e|=a.parent[a.offset+b+1]<<8),e}function o(a,b,c,d){var e=0;return d||(C.ok("boolean"==typeof c,"missing or invalid endian"),C.ok(void 0!==b&&null!==b,"missing offset"),C.ok(b+3<a.length,"Trying to read beyond buffer length")),c?(e=a.parent[a.offset+b+1]<<16,e|=a.parent[a.offset+b+2]<<8,e|=a.parent[a.offset+b+3],e+=a.parent[a.offset+b]<<24>>>0):(e=a.parent[a.offset+b+2]<<16,e|=a.parent[a.offset+b+1]<<8,e|=a.parent[a.offset+b],e+=a.parent[a.offset+b+3]<<24>>>0),e}function p(a,b,c,d){var e,f;return d||(C.ok("boolean"==typeof c,"missing or invalid endian"),C.ok(void 0!==b&&null!==b,"missing offset"),C.ok(b+1<a.length,"Trying to read beyond buffer length")),f=n(a,b,c,d),e=32768&f,e?-1*(65535-f+1):f}function q(a,b,c,d){var e,f;return d||(C.ok("boolean"==typeof c,"missing or invalid endian"),C.ok(void 0!==b&&null!==b,"missing offset"),C.ok(b+3<a.length,"Trying to read beyond buffer length")),f=o(a,b,c,d),e=2147483648&f,e?-1*(4294967295-f+1):f}function r(b,c,d,e){return e||(C.ok("boolean"==typeof d,"missing or invalid endian"),C.ok(c+3<b.length,"Trying to read beyond buffer length")),a("./buffer_ieee754").readIEEE754(b,c,d,23,4)}function s(b,c,d,e){return e||(C.ok("boolean"==typeof d,"missing or invalid endian"),C.ok(c+7<b.length,"Trying to read beyond buffer length")),a("./buffer_ieee754").readIEEE754(b,c,d,52,8)}function t(a,b){C.ok("number"==typeof a,"cannot write a non-number as a number"),C.ok(a>=0,"specified a negative value for writing an unsigned value"),C.ok(b>=a,"value is larger than maximum value for type"),C.ok(Math.floor(a)===a,"value has a fractional component")}function u(a,b,c,d,e){e||(C.ok(void 0!==b&&null!==b,"missing value"),C.ok("boolean"==typeof d,"missing or invalid endian"),C.ok(void 0!==c&&null!==c,"missing offset"),C.ok(c+1<a.length,"trying to write beyond buffer length"),t(b,65535)),d?(a.parent[a.offset+c]=(65280&b)>>>8,a.parent[a.offset+c+1]=255&b):(a.parent[a.offset+c+1]=(65280&b)>>>8,a.parent[a.offset+c]=255&b)}function v(a,b,c,d,e){e||(C.ok(void 0!==b&&null!==b,"missing value"),C.ok("boolean"==typeof d,"missing or invalid endian"),C.ok(void 0!==c&&null!==c,"missing offset"),C.ok(c+3<a.length,"trying to write beyond buffer length"),t(b,4294967295)),d?(a.parent[a.offset+c]=255&b>>>24,a.parent[a.offset+c+1]=255&b>>>16,a.parent[a.offset+c+2]=255&b>>>8,a.parent[a.offset+c+3]=255&b):(a.parent[a.offset+c+3]=255&b>>>24,a.parent[a.offset+c+2]=255&b>>>16,a.parent[a.offset+c+1]=255&b>>>8,a.parent[a.offset+c]=255&b)}function w(a,b,c){C.ok("number"==typeof a,"cannot write a non-number as a number"),C.ok(b>=a,"value larger than maximum allowed value"),C.ok(a>=c,"value smaller than minimum allowed value"),C.ok(Math.floor(a)===a,"value has a fractional component")}function x(a,b,c){C.ok("number"==typeof a,"cannot write a non-number as a number"),C.ok(b>=a,"value larger than maximum allowed value"),C.ok(a>=c,"value smaller than minimum allowed value")}function y(a,b,c,d,e){e||(C.ok(void 0!==b&&null!==b,"missing value"),C.ok("boolean"==typeof d,"missing or invalid endian"),C.ok(void 0!==c&&null!==c,"missing offset"),C.ok(c+1<a.length,"Trying to write beyond buffer length"),w(b,32767,-32768)),b>=0?u(a,b,c,d,e):u(a,65535+b+1,c,d,e)}function z(a,b,c,d,e){e||(C.ok(void 0!==b&&null!==b,"missing value"),C.ok("boolean"==typeof d,"missing or invalid endian"),C.ok(void 0!==c&&null!==c,"missing offset"),C.ok(c+3<a.length,"Trying to write beyond buffer length"),w(b,2147483647,-2147483648)),b>=0?v(a,b,c,d,e):v(a,4294967295+b+1,c,d,e)}function A(b,c,d,e,f){f||(C.ok(void 0!==c&&null!==c,"missing value"),C.ok("boolean"==typeof e,"missing or invalid endian"),C.ok(void 0!==d&&null!==d,"missing offset"),C.ok(d+3<b.length,"Trying to write beyond buffer length"),x(c,3.4028234663852886e38,-3.4028234663852886e38)),a("./buffer_ieee754").writeIEEE754(b,c,d,e,23,4)}function B(b,c,d,e,f){f||(C.ok(void 0!==c&&null!==c,"missing value"),C.ok("boolean"==typeof e,"missing or invalid endian"),C.ok(void 0!==d&&null!==d,"missing offset"),C.ok(d+7<b.length,"Trying to write beyond buffer length"),x(c,1.7976931348623157e308,-1.7976931348623157e308)),a("./buffer_ieee754").writeIEEE754(b,c,d,e,52,8)
}var C=a("assert");c.INSPECT_MAX_BYTES=50,b.byteLength=function(a,b){switch(b||"utf8"){case"hex":return a.length/2;case"utf8":case"utf-8":return e(a).length;case"ascii":return a.length;case"base64":return g(a).length;default:throw new Error("Unknown encoding")}},b.prototype.utf8Write=function(a,c,d){return b._charsWritten=h(e(a),this,c,d)},b.prototype.asciiWrite=function(a,c,d){return b._charsWritten=h(f(a),this,c,d)},b.prototype.base64Write=function(a,c,d){return b._charsWritten=h(g(a),this,c,d)},b.prototype.base64Slice=function(){var b=Array.prototype.slice.apply(this,arguments);return a("base64-js").fromByteArray(b)},b.prototype.utf8Slice=function(){for(var a=Array.prototype.slice.apply(this,arguments),b="",c="",d=0;d<a.length;)a[d]<=127?(b+=i(c)+String.fromCharCode(a[d]),c=""):c+="%"+a[d].toString(16),d++;return b+i(c)},b.prototype.asciiSlice=function(){for(var a=Array.prototype.slice.apply(this,arguments),b="",c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b},b.prototype.inspect=function(){for(var a=[],b=this.length,e=0;b>e;e++)if(a[e]=d(this[e]),e==c.INSPECT_MAX_BYTES){a[e+1]="...";break}return"<SlowBuffer "+a.join(" ")+">"},b.prototype.hexSlice=function(a,b){var c=this.length;(!a||0>a)&&(a=0),(!b||0>b||b>c)&&(b=c);for(var e="",f=a;b>f;f++)e+=d(this[f]);return e},b.prototype.toString=function(a,b,c){if(a=String(a||"utf8").toLowerCase(),b=+b||0,"undefined"==typeof c&&(c=this.length),+c==b)return"";switch(a){case"hex":return this.hexSlice(b,c);case"utf8":case"utf-8":return this.utf8Slice(b,c);case"ascii":return this.asciiSlice(b,c);case"binary":return this.binarySlice(b,c);case"base64":return this.base64Slice(b,c);case"ucs2":case"ucs-2":return this.ucs2Slice(b,c);default:throw new Error("Unknown encoding")}},b.prototype.hexWrite=function(a,c,d){c=+c||0;var e=this.length-c;d?(d=+d,d>e&&(d=e)):d=e;var f=a.length;if(f%2)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;d>g;g++){var h=parseInt(a.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");this[c+g]=h}return b._charsWritten=2*g,g},b.prototype.write=function(a,b,c,d){if(isFinite(b))isFinite(c)||(d=c,c=void 0);else{var e=d;d=b,b=c,c=e}b=+b||0;var f=this.length-b;switch(c?(c=+c,c>f&&(c=f)):c=f,d=String(d||"utf8").toLowerCase()){case"hex":return this.hexWrite(a,b,c);case"utf8":case"utf-8":return this.utf8Write(a,b,c);case"ascii":return this.asciiWrite(a,b,c);case"binary":return this.binaryWrite(a,b,c);case"base64":return this.base64Write(a,b,c);case"ucs2":case"ucs-2":return this.ucs2Write(a,b,c);default:throw new Error("Unknown encoding")}},b.prototype.slice=function(a,b){if(void 0===b&&(b=this.length),b>this.length)throw new Error("oob");if(a>b)throw new Error("oob");return new k(this,b-a,+a)},b.prototype.copy=function(a,b,c,d){for(var e=[],f=c;d>f;f++)C.ok("undefined"!=typeof this[f],"copying undefined buffer bytes!"),e.push(this[f]);for(var f=b;f<b+e.length;f++)a[f]=e[f-b]},c.SlowBuffer=b,c.Buffer=k,k.poolSize=8192;var D;k.isBuffer=function(a){return a instanceof k||a instanceof b},k.concat=function(a,b){if(!Array.isArray(a))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===a.length)return new k(0);if(1===a.length)return a[0];if("number"!=typeof b){b=0;for(var c=0;c<a.length;c++){var d=a[c];b+=d.length}}for(var e=new k(b),f=0,c=0;c<a.length;c++){var d=a[c];d.copy(e,f),f+=d.length}return e},k.prototype.inspect=function(){for(var a=[],b=this.length,e=0;b>e;e++)if(a[e]=d(this.parent[e+this.offset]),e==c.INSPECT_MAX_BYTES){a[e+1]="...";break}return"<Buffer "+a.join(" ")+">"},k.prototype.get=function(a){if(0>a||a>=this.length)throw new Error("oob");return this.parent[this.offset+a]},k.prototype.set=function(a,b){if(0>a||a>=this.length)throw new Error("oob");return this.parent[this.offset+a]=b},k.prototype.write=function(a,c,d,e){if(isFinite(c))isFinite(d)||(e=d,d=void 0);else{var f=e;e=c,c=d,d=f}c=+c||0;var g=this.length-c;d?(d=+d,d>g&&(d=g)):d=g,e=String(e||"utf8").toLowerCase();var h;switch(e){case"hex":h=this.parent.hexWrite(a,this.offset+c,d);break;case"utf8":case"utf-8":h=this.parent.utf8Write(a,this.offset+c,d);break;case"ascii":h=this.parent.asciiWrite(a,this.offset+c,d);break;case"binary":h=this.parent.binaryWrite(a,this.offset+c,d);break;case"base64":h=this.parent.base64Write(a,this.offset+c,d);break;case"ucs2":case"ucs-2":h=this.parent.ucs2Write(a,this.offset+c,d);break;default:throw new Error("Unknown encoding")}return k._charsWritten=b._charsWritten,h},k.prototype.toString=function(a,b,c){switch(a=String(a||"utf8").toLowerCase(),"undefined"==typeof b||0>b?b=0:b>this.length&&(b=this.length),"undefined"==typeof c||c>this.length?c=this.length:0>c&&(c=0),b+=this.offset,c+=this.offset,a){case"hex":return this.parent.hexSlice(b,c);case"utf8":case"utf-8":return this.parent.utf8Slice(b,c);case"ascii":return this.parent.asciiSlice(b,c);case"binary":return this.parent.binarySlice(b,c);case"base64":return this.parent.base64Slice(b,c);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(b,c);default:throw new Error("Unknown encoding")}},k.byteLength=b.byteLength,k.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),"string"==typeof a&&(a=a.charCodeAt(0)),"number"!=typeof a||isNaN(a))throw new Error("value is not a number");if(b>c)throw new Error("end < start");if(c===b)return 0;if(0==this.length)return 0;if(0>b||b>=this.length)throw new Error("start out of bounds");if(0>c||c>this.length)throw new Error("end out of bounds");return this.parent.fill(a,b+this.offset,c+this.offset)},k.prototype.copy=function(a,b,c,d){var e=this;if(c||(c=0),d||(d=this.length),b||(b=0),c>d)throw new Error("sourceEnd < sourceStart");if(d===c)return 0;if(0==a.length||0==e.length)return 0;if(0>b||b>=a.length)throw new Error("targetStart out of bounds");if(0>c||c>=e.length)throw new Error("sourceStart out of bounds");if(0>d||d>e.length)throw new Error("sourceEnd out of bounds");return d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c),this.parent.copy(a.parent,b+a.offset,c+this.offset,d+this.offset)},k.prototype.slice=function(a,b){if(void 0===b&&(b=this.length),b>this.length)throw new Error("oob");if(a>b)throw new Error("oob");return new k(this.parent,b-a,+a+this.offset)},k.prototype.utf8Slice=function(a,b){return this.toString("utf8",a,b)},k.prototype.binarySlice=function(a,b){return this.toString("binary",a,b)},k.prototype.asciiSlice=function(a,b){return this.toString("ascii",a,b)},k.prototype.utf8Write=function(a,b){return this.write(a,b,"utf8")},k.prototype.binaryWrite=function(a,b){return this.write(a,b,"binary")},k.prototype.asciiWrite=function(a,b){return this.write(a,b,"ascii")},k.prototype.readUInt8=function(a,b){var c=this;return b||(C.ok(void 0!==a&&null!==a,"missing offset"),C.ok(a<c.length,"Trying to read beyond buffer length")),c.parent[c.offset+a]},k.prototype.readUInt16LE=function(a,b){return n(this,a,!1,b)},k.prototype.readUInt16BE=function(a,b){return n(this,a,!0,b)},k.prototype.readUInt32LE=function(a,b){return o(this,a,!1,b)},k.prototype.readUInt32BE=function(a,b){return o(this,a,!0,b)},k.prototype.readInt8=function(a,b){var c,d=this;return b||(C.ok(void 0!==a&&null!==a,"missing offset"),C.ok(a<d.length,"Trying to read beyond buffer length")),c=128&d.parent[d.offset+a],c?-1*(255-d.parent[d.offset+a]+1):d.parent[d.offset+a]},k.prototype.readInt16LE=function(a,b){return p(this,a,!1,b)},k.prototype.readInt16BE=function(a,b){return p(this,a,!0,b)},k.prototype.readInt32LE=function(a,b){return q(this,a,!1,b)},k.prototype.readInt32BE=function(a,b){return q(this,a,!0,b)},k.prototype.readFloatLE=function(a,b){return r(this,a,!1,b)},k.prototype.readFloatBE=function(a,b){return r(this,a,!0,b)},k.prototype.readDoubleLE=function(a,b){return s(this,a,!1,b)},k.prototype.readDoubleBE=function(a,b){return s(this,a,!0,b)},k.prototype.writeUInt8=function(a,b,c){var d=this;c||(C.ok(void 0!==a&&null!==a,"missing value"),C.ok(void 0!==b&&null!==b,"missing offset"),C.ok(b<d.length,"trying to write beyond buffer length"),t(a,255)),d.parent[d.offset+b]=a},k.prototype.writeUInt16LE=function(a,b,c){u(this,a,b,!1,c)},k.prototype.writeUInt16BE=function(a,b,c){u(this,a,b,!0,c)},k.prototype.writeUInt32LE=function(a,b,c){v(this,a,b,!1,c)},k.prototype.writeUInt32BE=function(a,b,c){v(this,a,b,!0,c)},k.prototype.writeInt8=function(a,b,c){var d=this;c||(C.ok(void 0!==a&&null!==a,"missing value"),C.ok(void 0!==b&&null!==b,"missing offset"),C.ok(b<d.length,"Trying to write beyond buffer length"),w(a,127,-128)),a>=0?d.writeUInt8(a,b,c):d.writeUInt8(255+a+1,b,c)},k.prototype.writeInt16LE=function(a,b,c){y(this,a,b,!1,c)},k.prototype.writeInt16BE=function(a,b,c){y(this,a,b,!0,c)},k.prototype.writeInt32LE=function(a,b,c){z(this,a,b,!1,c)},k.prototype.writeInt32BE=function(a,b,c){z(this,a,b,!0,c)},k.prototype.writeFloatLE=function(a,b,c){A(this,a,b,!1,c)},k.prototype.writeFloatBE=function(a,b,c){A(this,a,b,!0,c)},k.prototype.writeDoubleLE=function(a,b,c){B(this,a,b,!1,c)},k.prototype.writeDoubleBE=function(a,b,c){B(this,a,b,!0,c)},b.prototype.readUInt8=k.prototype.readUInt8,b.prototype.readUInt16LE=k.prototype.readUInt16LE,b.prototype.readUInt16BE=k.prototype.readUInt16BE,b.prototype.readUInt32LE=k.prototype.readUInt32LE,b.prototype.readUInt32BE=k.prototype.readUInt32BE,b.prototype.readInt8=k.prototype.readInt8,b.prototype.readInt16LE=k.prototype.readInt16LE,b.prototype.readInt16BE=k.prototype.readInt16BE,b.prototype.readInt32LE=k.prototype.readInt32LE,b.prototype.readInt32BE=k.prototype.readInt32BE,b.prototype.readFloatLE=k.prototype.readFloatLE,b.prototype.readFloatBE=k.prototype.readFloatBE,b.prototype.readDoubleLE=k.prototype.readDoubleLE,b.prototype.readDoubleBE=k.prototype.readDoubleBE,b.prototype.writeUInt8=k.prototype.writeUInt8,b.prototype.writeUInt16LE=k.prototype.writeUInt16LE,b.prototype.writeUInt16BE=k.prototype.writeUInt16BE,b.prototype.writeUInt32LE=k.prototype.writeUInt32LE,b.prototype.writeUInt32BE=k.prototype.writeUInt32BE,b.prototype.writeInt8=k.prototype.writeInt8,b.prototype.writeInt16LE=k.prototype.writeInt16LE,b.prototype.writeInt16BE=k.prototype.writeInt16BE,b.prototype.writeInt32LE=k.prototype.writeInt32LE,b.prototype.writeInt32BE=k.prototype.writeInt32BE,b.prototype.writeFloatLE=k.prototype.writeFloatLE,b.prototype.writeFloatBE=k.prototype.writeFloatBE,b.prototype.writeDoubleLE=k.prototype.writeDoubleLE,b.prototype.writeDoubleBE=k.prototype.writeDoubleBE}()},{assert:2,"./buffer_ieee754":7,"base64-js":9}],9:[function(a,b){!function(){"use strict";function a(a){var b,c,e,f,g,h;if(a.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(g=a.indexOf("="),g=g>0?a.length-g:0,h=[],e=g>0?a.length-4:a.length,b=0,c=0;e>b;b+=4,c+=3)f=d.indexOf(a[b])<<18|d.indexOf(a[b+1])<<12|d.indexOf(a[b+2])<<6|d.indexOf(a[b+3]),h.push((16711680&f)>>16),h.push((65280&f)>>8),h.push(255&f);return 2===g?(f=d.indexOf(a[b])<<2|d.indexOf(a[b+1])>>4,h.push(255&f)):1===g&&(f=d.indexOf(a[b])<<10|d.indexOf(a[b+1])<<4|d.indexOf(a[b+2])>>2,h.push(255&f>>8),h.push(255&f)),h}function c(a){function b(a){return d[63&a>>18]+d[63&a>>12]+d[63&a>>6]+d[63&a]}var c,e,f,g=a.length%3,h="";for(c=0,f=a.length-g;f>c;c+=3)e=(a[c]<<16)+(a[c+1]<<8)+a[c+2],h+=b(e);switch(g){case 1:e=a[a.length-1],h+=d[e>>2],h+=d[63&e<<4],h+="==";break;case 2:e=(a[a.length-2]<<8)+a[a.length-1],h+=d[e>>10],h+=d[63&e>>4],h+=d[63&e<<2],h+="="}return h}var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";b.exports.toByteArray=a,b.exports.fromByteArray=c}()},{}]},{},[]),b.exports=a("buffer-browserify")},{}],19:[function(a,b){!function(c){!function(){function d(a,b,c){var d=b&&c||0,e=0;for(b=b||[],a.toLowerCase().replace(/[0-9a-f]{2}/g,function(a){16>e&&(b[d+e++]=p[a])});16>e;)b[d+e++]=0;return b}function e(a,b){var c=b||0,d=o;return d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]}function f(a,b,c){var d=b&&c||0,f=b||[];a=a||{};var g=null!=a.clockseq?a.clockseq:t,h=null!=a.msecs?a.msecs:(new Date).getTime(),i=null!=a.nsecs?a.nsecs:v+1,j=h-u+(i-v)/1e4;if(0>j&&null==a.clockseq&&(g=16383&g+1),(0>j||h>u)&&null==a.nsecs&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=h,v=i,t=g,h+=122192928e5;var k=(1e4*(268435455&h)+i)%4294967296;f[d++]=255&k>>>24,f[d++]=255&k>>>16,f[d++]=255&k>>>8,f[d++]=255&k;var l=268435455&1e4*(h/4294967296);f[d++]=255&l>>>8,f[d++]=255&l,f[d++]=16|15&l>>>24,f[d++]=255&l>>>16,f[d++]=128|g>>>8,f[d++]=255&g;for(var m=a.node||s,n=0;6>n;n++)f[d+n]=m[n];return b?b:e(f)}function g(a,b,c){var d=b&&c||0;"string"==typeof a&&(b="binary"==a?new n(16):null,a=null),a=a||{};var f=a.random||(a.rng||h)();if(f[6]=64|15&f[6],f[8]=128|63&f[8],b)for(var g=0;16>g;g++)b[d+g]=f[g];return b||e(f)}var h,i=this;if("function"==typeof a)try{var j=a("crypto").randomBytes;h=j&&function(){return j(16)}}catch(k){}if(!h&&i.crypto&&crypto.getRandomValues){var l=new Uint8Array(16);h=function(){return crypto.getRandomValues(l),l}}if(!h){var m=new Array(16);h=function(){for(var a,b=0;16>b;b++)0===(3&b)&&(a=4294967296*Math.random()),m[b]=255&a>>>((3&b)<<3);return m}}for(var n="function"==typeof c?c:Array,o=[],p={},q=0;256>q;q++)o[q]=(q+256).toString(16).substr(1),p[o[q]]=q;var r=h(),s=[1|r[0],r[1],r[2],r[3],r[4],r[5]],t=16383&(r[6]<<8|r[7]),u=0,v=0,w=g;if(w.v1=f,w.v4=g,w.parse=d,w.unparse=e,w.BufferClass=n,i.define&&define.amd)define(function(){return w});else if("undefined"!=typeof b&&b.exports)b.exports=w;else{var x=i.uuid;w.noConflict=function(){return i.uuid=x,w},i.uuid=w}}()}(a("__browserify_buffer").Buffer)},{crypto:21,__browserify_buffer:20}],14:[function(a,b){function c(a,b){return d.isString(a)?"<"==a.charAt(0)?a=e.parse(a):"["==a.charAt(0)?a=JSON.parse(a):(b=b||{},b._digger=b._digger||{},b._digger.tag=a,b._children=b._children||[],b._data=b._data||{},a=[b]):d.isArray(a)||(a||(a={}),a=[a]),a}var d=a("lodash"),e=a("./xml"),f=a("../utils");b.exports=function(a,b){function e(a){return null!==a}if(!a)return[];var g=c(a,b);return g=d.filter(d.map(g||[],function(a){if(!a)return null;var b=a._digger=a._digger||{};return b.class=b.class||[],b.diggerpath=b.diggerpath||[],b.diggerid=b.diggerid||f.diggerid(),a._children=a._children||[],a}),e)},b.exports.toXML=e.stringify},{"./xml":22,"../utils":13,lodash:7}],15:[function(a,b){function c(){var a=g.toArray(arguments).reverse(),b=g.map(a,function(a){return g.isString(a)?j(a):a}),c=this.containers(),d=g.groupBy(c,function(a){return a.diggerwarehouse()||"/"}),e=g.keys(d),f=h("merge");return f.method="post",f.url="reception:/",f.body=g.map(e,function(a){var c=g.filter(d[a],function(a){return"_supplychain"!=a.tag()}),e=g.map(c,function(a){return a.meta()}),f=i({method:"post",headers:{"x-json-selector-strings":b},url:(("/"==a?null:a)||"")+"/resolve",body:e||[]});return f.toJSON()}),f.supplychain=this.supplychain,f.expect("digger/containers"),f}function d(a){var b=this,c=h("merge");if(c.method="post",c.url="reception:/",arguments.length<=0)return c;if(this.count()<=0)return c;g.isArray(a)||(a=[a]);var d=[];g.each(a,function(a){a.supplychain=b.supplychain,d=d.concat(a.models)});var e=this.get(0),f=this.spawn(d),j=this.diggerwarehouse();f.recurse(function(a){a.diggerwarehouse(j)}),e._children=e._children.concat(d);var k=i({method:"post",url:this.diggerurl(),body:d||[]});return c.on("shipped",function(a){var b={};g.each(d,function(a){b[a._digger.diggerid]=a}),g.each(a,function(a){var c=b[a._digger.diggerid];c&&g.each(a,function(a,b){c[b]=a})})}),c.body=[k.toJSON()],c.supplychain=this.supplychain,c}function e(){var a=h("merge");a.method="post",a.url="reception:/",a.url;var b=g.clone(this.eq(0).toJSON()[0]);delete b._children,delete b._data;var c=i({method:"put",url:this.diggerurl(),body:b});return a.body=[c.toJSON()],a.supplychain=this.supplychain,a}function f(){var a=h("merge");a.method="post",a.url="reception:/";var b=i({method:"delete",url:this.diggerurl()});return a.body=[b.toJSON()],a.supplychain=this.supplychain,a}var g=a("lodash"),h=a("../network/contract").factory,i=a("../network/request").factory,j=a("./selector");b.exports={select:c,append:d,save:e,remove:f}},{"../network/contract":17,"./selector":23,"../network/request":24,lodash:7}],12:[function(a,b){function c(a,b,c){return f.isArray(c)?(a[b]=c,c):(a[b],f.isObject(a[b])&&f.isObject(c)?g(a[b],c):a[b]=c,c)}function d(a,b,d){if(null===a)return null;if(!b)return a;b=b.replace(/^\./,"");var e=b.split("."),g=e.pop(),h=a,i=arguments.length>=3;if(!f.isObject(h))return h;for(;e.length>0&&null!==h;){var j=e.shift(),k=h[j];if(k){if(!f.isObject(k))break}else{if(!i)break;k=h[j]={}}h=k}return f.isObject(h)?i?c(h,g,d):h[g]:h}function e(a){function b(){var c=f.toArray(arguments);c.unshift(a);var e=d.apply(null,c);return arguments.length>1&&b.emit("change",arguments[0],arguments[1]),e}return f.extend(b,h.prototype),b}var f=a("lodash"),g=a("xtend"),h=a("events").EventEmitter;b.exports=d,b.exports.factory=e},{events:3,lodash:7,xtend:25}],17:[function(a,b){function c(a){a=a||{},e.isString(a)&&(a={headers:{"x-contract-type":a}}),g.apply(this,[a]),this.setHeader("content-type","digger/contract"),this.getHeader("x-contract-type")||this.setHeader("x-contract-type","merge"),this.getHeader("x-contract-id")||this.setHeader("x-contract-id",f.diggerid()),this.body||(this.body=[])}var d=a("util");a("./message"),a("url");var e=a("lodash"),f=a("../utils"),g=a("./request");a("./response"),b.exports=c,d.inherits(c,g),c.factory=function(a){return new c(a)},c.mergefactory=function(a){var b=c.factory("merge");return b.url="reception:/",b.method="post",b.body=e.map(a,function(a){return a.toJSON()}),b},c.sequencefactory=function(a){var b=c.factory("sequence");return b.url="reception:/",b.method="post",b.body=e.map(a,function(a){return a.toJSON()}),b},c.prototype.add=function(a){var b=this;return e.isArray(a)?e.each(a,function(a){b.add(a)}):e.isFunction(a.toJSON)&&(a.getHeader("x-contract-type")==this.getHeader("x-contract-type")?this.body=this.body.concat(a.body):this.body.push(a.toJSON())),this},c.prototype.ship=function(a){if(!this.supplychain)throw console.log("-------------------------------------------"),console.log("there is no supplychain to ship with"),new Error("contract has not been given a supply chain to ship with");return this.supplychain.ship(this,a)}},{util:11,url:9,"./message":26,"../utils":13,"./request":24,"./response":18,lodash:7}],18:[function(a,b){!function(){function c(a){e.apply(this,[a]),this.statusCode=a?a.statusCode:200}var d=a("util"),e=a("./message"),f=a("lodash");a("q"),b.exports=c,c.factory=function(a){var b=null,d=!1;f.isFunction(a)?(b=a,a=null):f.isBoolean(a)&&(d=a,a=null);var e=new c(a);return d&&e.on("send",function(){e.resolve()}),b&&e.on("send",b),e},d.inherits(c,e),c.prototype.fill=function(a){return a?(this.statusCode=a.statusCode,this.headers=a.headers,this.body=a.body,this.send(a.body),void 0):this},c.prototype.statusCode=200,c.prototype.send=function(a){if(this.headerSent===!0)throw new Error("cannot send response after headers have been sent");return this.body=arguments.length>0?a:this.body,this.emit("beforesend",a),this.emit("send",a),this.emit("aftersend",a),this.headerSent=!0,this},c.prototype.resolve=function(a){function b(a){if(200==a.statusCode)if("digger/multipart"==a.getHeader("content-type"))f.each(a.body,function(a){a.statusCode||(a.statusCode=200),b(new c(a))});else{var h=a.getHeader("x-json-branches")||[];g=g.concat(h),f.isArray(a.body)?d=d.concat(a.body):d.push(a.body)}else e.push(a.body)}this.statusCode||(this.statusCode=200);var d=[],e=[],g=this.getHeader("x-json-branches")||[];200===this.statusCode?"digger/multipart"==this.getHeader("content-type")?(b(this),d.length>0&&this.emit("success",d,this),e.length>0&&this.emit("failure",e,this)):(d=this.body,this.emit("success",this.body,this)):(e=this.body,this.emit("failure",this.body,this)),this.setHeader("x-json-branches",g),a&&a(d,e)},c.prototype.toJSON=function(){var a=e.prototype.toJSON.apply(this);return a.statusCode=this.statusCode,a},c.prototype.hasError=function(){return 200!==this.statusCode},c.prototype.sendError=function(a){this.statusCode=500,this.send(a)},c.prototype.send404=function(a){this.statusCode=404,this.send(a?a.toJSON():null)},c.prototype.redirect=function(a){this.statusCode=302,this.send(a)},c.prototype.add=function(a){return this.setHeader("content-type","digger/multipart"),this.body||(this.body=[]),this.body.push(f.isFunction(a.toJSON)?a.toJSON():a),this}}()},{util:11,"./message":26,q:27,lodash:7}],27:[function(a,b,c){!function(a){!function(a){if("function"==typeof bootstrap)bootstrap("promise",a);else if("object"==typeof c)b.exports=a();else if("function"==typeof define&&define.amd)define(a);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=a}else Q=a()}(function(){"use strict";function b(a){var b=Function.call;return function(){return b.apply(a,arguments)}}function c(a){return a===Object(a)}function d(a){return"[object StopIteration]"===tb(a)||a instanceof ib}function e(a,b){if(fb&&b.stack&&"object"==typeof a&&null!==a&&a.stack&&-1===a.stack.indexOf(vb)){for(var c=[],d=b;d;d=d.source)d.stack&&c.unshift(d.stack);c.unshift(a.stack);var e=c.join("\n"+vb+"\n");a.stack=f(e)}}function f(a){for(var b=a.split("\n"),c=[],d=0;d<b.length;++d){var e=b[d];i(e)||g(e)||!e||c.push(e)}return c.join("\n")}function g(a){return-1!==a.indexOf("(module.js:")||-1!==a.indexOf("(node.js:")}function h(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);return d?[d[1],Number(d[2])]:void 0}function i(a){var b=h(a);if(!b)return!1;var c=b[0],d=b[1];return c===hb&&d>=jb&&Bb>=d}function j(){if(fb)try{throw new Error}catch(a){var b=a.stack.split("\n"),c=b[0].indexOf("@")>0?b[1]:b[2],d=h(c);if(!d)return;return hb=d[0],d[1]}}function k(a,b,c){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(b+" is deprecated, use "+c+" instead.",new Error("").stack),a.apply(a,arguments)}}function l(a){return C(a)}function m(){function a(a){b=a,f.source=a,nb(c,function(b,c){lb(function(){a.promiseDispatch.apply(a,c)})},void 0),c=void 0,d=void 0}var b,c=[],d=[],e=qb(m.prototype),f=qb(o.prototype);if(f.promiseDispatch=function(a,e,f){var g=mb(arguments);c?(c.push(g),"when"===e&&f[1]&&d.push(f[1])):lb(function(){b.promiseDispatch.apply(b,g)})},f.valueOf=k(function(){if(c)return f;var a=p(b);return q(a)&&(b=a),a},"valueOf","inspect"),f.inspect=function(){return b?b.inspect():{state:"pending"}},l.longStackSupport&&fb)try{throw new Error}catch(g){f.stack=g.stack.substring(g.stack.indexOf("\n")+1)}return e.promise=f,e.resolve=function(c){b||a(C(c))},e.fulfill=function(c){b||a(B(c))},e.reject=function(c){b||a(A(c))},e.notify=function(a){b||nb(d,function(b,c){lb(function(){c(a)})},void 0)},e}function n(a){if("function"!=typeof a)throw new TypeError("resolver must be a function.");var b=m();return P(a,b.resolve,b.reject,b.notify).fail(b.reject),b.promise}function o(a,b,c){void 0===b&&(b=function(a){return A(new Error("Promise does not support operation: "+a))}),void 0===c&&(c=function(){return{state:"unknown"}});var d=qb(o.prototype);if(d.promiseDispatch=function(c,e,f){var g;try{g=a[e]?a[e].apply(d,f):b.call(d,e,f)}catch(h){g=A(h)}c&&c(g)},d.inspect=c,c){var e=c();"rejected"===e.state&&(d.exception=e.reason),d.valueOf=k(function(){var a=c();return"pending"===a.state||"rejected"===a.state?d:a.value})}return d}function p(a){if(q(a)){var b=a.inspect();if("fulfilled"===b.state)return b.value}return a}function q(a){return c(a)&&"function"==typeof a.promiseDispatch&&"function"==typeof a.inspect}function r(a){return c(a)&&"function"==typeof a.then}function s(a){return q(a)&&"pending"===a.inspect().state}function t(a){return!q(a)||"fulfilled"===a.inspect().state}function u(a){return q(a)&&"rejected"===a.inspect().state}function v(){yb||"undefined"==typeof window||window.Touch||!window.console||console.warn("[Q] Unhandled rejection reasons (should be empty):",wb),yb=!0}function w(){for(var a=0;a<wb.length;a++){var b=wb[a];b&&"undefined"!=typeof b.stack?console.warn("Unhandled rejection reason:",b.stack):console.warn("Unhandled rejection reason (no stack):",b)}}function x(){wb.length=0,xb.length=0,yb=!1,zb||(zb=!0,"undefined"!=typeof a&&a.on&&a.on("exit",w))}function y(a,b){zb&&(xb.push(a),wb.push(b),v())}function z(a){if(zb){var b=ob(xb,a);-1!==b&&(xb.splice(b,1),wb.splice(b,1))}}function A(a){var b=o({when:function(b){return b&&z(this),b?b(a):this}},function(){return this},function(){return{state:"rejected",reason:a}});return y(b,a),b}function B(a){return o({when:function(){return a},get:function(b){return a[b]},set:function(b,c){a[b]=c},"delete":function(b){delete a[b]},post:function(b,c){return null===b||void 0===b?a.apply(void 0,c):a[b].apply(a,c)},apply:function(b,c){return a.apply(b,c)},keys:function(){return sb(a)}},void 0,function(){return{state:"fulfilled",value:a}})}function C(a){return q(a)?a:r(a)?D(a):B(a)}function D(a){var b=m();return lb(function(){try{a.then(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}}),b.promise}function E(a){return o({isDef:function(){}},function(b,c){return L(a,b,c)},function(){return C(a).inspect()})}function F(a,b,c,d){return l(a).then(b,c,d)}function G(a,b,c){return F(a,function(a){return R(a).then(function(a){return b.apply(void 0,a)},c)},c)}function H(a){return function(){function b(a,b){var g;if(ub){try{g=c[a](b)}catch(h){return A(h)}return g.done?g.value:F(g.value,e,f)}try{g=c[a](b)}catch(h){return d(h)?h.value:A(h)}return F(g,e,f)}var c=a.apply(this,arguments),e=b.bind(b,"send"),f=b.bind(b,"throw");return e()}}function I(a){l.done(l.async(a)())}function J(a){throw new ib(a)}function K(a){return function(){return G([this,R(arguments)],function(b,c){return a.apply(b,c)})}}function L(a,b,c){var d=m();return lb(function(){C(a).promiseDispatch(d.resolve,b,c)}),d.promise}function M(a){return function(b){var c=mb(arguments,1);return L(b,a,c)}}function N(a,b){var c=mb(arguments,2);return Ab(a,b,c)}function O(a,b){return L(a,"apply",[void 0,b])}function P(a){var b=mb(arguments,1);return O(a,b)}function Q(a){var b=mb(arguments,1);return function(){var c=b.concat(mb(arguments));return L(a,"apply",[this,c])}}function R(a){return F(a,function(a){var b=0,c=m();return nb(a,function(d,e,f){var g;q(e)&&"fulfilled"===(g=e.inspect()).state?a[f]=g.value:(++b,F(e,function(d){a[f]=d,0===--b&&c.resolve(a)},c.reject))},void 0),0===b&&c.resolve(a),c.promise})}function S(a){return F(a,function(a){return a=pb(a,C),F(R(pb(a,function(a){return F(a,kb,kb)})),function(){return a})})}function T(a){return F(a,function(a){return R(pb(a,function(b,c){return F(b,function(b){return a[c]={state:"fulfilled",value:b},a[c]},function(b){return a[c]={state:"rejected",reason:b},a[c]})})).thenResolve(a)})}function U(a,b){return F(a,void 0,b)}function V(a,b){return F(a,void 0,void 0,b)}function W(a,b){return F(a,function(a){return F(b(),function(){return a})},function(a){return F(b(),function(){return A(a)})})}function X(b,c,d,f){var g=function(a){lb(function(){if(e(a,b),!l.onerror)throw a;l.onerror(a)})},h=c||d||f?F(b,c,d,f):b;"object"==typeof a&&a&&a.domain&&(g=a.domain.bind(g)),U(h,g)}function Y(a,b,c){var d=m(),e=setTimeout(function(){d.reject(new Error(c||"Timed out after "+b+" ms"))},b);return F(a,function(a){clearTimeout(e),d.resolve(a)},function(a){clearTimeout(e),d.reject(a)},d.notify),d.promise}function Z(a,b){void 0===b&&(b=a,a=void 0);var c=m();return F(a,void 0,void 0,c.notify),setTimeout(function(){c.resolve(a)},b),c.promise}function $(a,b){var c=mb(b),d=m();return c.push(d.makeNodeResolver()),O(a,c).fail(d.reject),d.promise}function _(a){var b=mb(arguments,1),c=m();return b.push(c.makeNodeResolver()),O(a,b).fail(c.reject),c.promise}function ab(a){var b=mb(arguments,1);return function(){var c=b.concat(mb(arguments)),d=m();return c.push(d.makeNodeResolver()),O(a,c).fail(d.reject),d.promise}}function bb(a,b){var c=mb(arguments,2);return function(){function d(){return a.apply(b,arguments)}var e=c.concat(mb(arguments)),f=m();return e.push(f.makeNodeResolver()),O(d,e).fail(f.reject),f.promise}}function cb(a,b,c){var d=mb(c||[]),e=m();return d.push(e.makeNodeResolver()),Ab(a,b,d).fail(e.reject),e.promise}function db(a,b){var c=mb(arguments,2),d=m();return c.push(d.makeNodeResolver()),Ab(a,b,c).fail(d.reject),d.promise}function eb(a,b){return b?(a.then(function(a){lb(function(){b(null,a)})},function(a){lb(function(){b(a)})}),void 0):a}var fb=!1;try{throw new Error}catch(gb){fb=!!gb.stack}var hb,ib,jb=j(),kb=function(){},lb=function(){function b(){for(;c.next;){c=c.next;var a=c.task;c.task=void 0;var d=c.domain;d&&(c.domain=void 0,d.enter());try{a()}catch(f){if(g)throw d&&d.exit(),setTimeout(b,0),d&&d.enter(),f;setTimeout(function(){throw f},0)}d&&d.exit()}e=!1}var c={task:void 0,next:null},d=c,e=!1,f=void 0,g=!1;if(lb=function(b){d=d.next={task:b,domain:g&&a.domain,next:null},e||(e=!0,f())},"undefined"!=typeof a&&a.nextTick)g=!0,f=function(){a.nextTick(b)};else if("function"==typeof setImmediate)f="undefined"!=typeof window?setImmediate.bind(window,b):function(){setImmediate(b)};else if("undefined"!=typeof MessageChannel){var h=new MessageChannel;h.port1.onmessage=b,f=function(){h.port2.postMessage(0)}}else f=function(){setTimeout(b,0)};return lb}(),mb=b(Array.prototype.slice),nb=b(Array.prototype.reduce||function(a,b){var c=0,d=this.length;if(1===arguments.length)for(;;){if(c in this){b=this[c++];break}if(++c>=d)throw new TypeError}for(;d>c;c++)c in this&&(b=a(b,this[c],c));return b}),ob=b(Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}),pb=b(Array.prototype.map||function(a,b){var c=this,d=[];return nb(c,function(e,f,g){d.push(a.call(b,f,g,c))},void 0),d}),qb=Object.create||function(a){function b(){}return b.prototype=a,new b},rb=b(Object.prototype.hasOwnProperty),sb=Object.keys||function(a){var b=[];for(var c in a)rb(a,c)&&b.push(c);return b},tb=b(Object.prototype.toString);ib="undefined"!=typeof ReturnValue?ReturnValue:function(a){this.value=a};var ub;try{new Function("(function* (){ yield 1; })"),ub=!0}catch(gb){ub=!1}var vb="From previous event:";l.nextTick=lb,l.longStackSupport=!1,l.defer=m,m.prototype.makeNodeResolver=function(){var a=this;return function(b,c){b?a.reject(b):arguments.length>2?a.resolve(mb(arguments,1)):a.resolve(c)}},l.promise=n,l.makePromise=o,o.prototype.then=function(a,b,c){function d(b){try{return"function"==typeof a?a(b):b}catch(c){return A(c)}}function f(a){if("function"==typeof b){e(a,h);try{return b(a)}catch(c){return A(c)}}return A(a)}function g(a){return"function"==typeof c?c(a):a}var h=this,i=m(),j=!1;return lb(function(){h.promiseDispatch(function(a){j||(j=!0,i.resolve(d(a)))},"when",[function(a){j||(j=!0,i.resolve(f(a)))}])}),h.promiseDispatch(void 0,"when",[void 0,function(a){var b,c=!1;try{b=g(a)}catch(d){if(c=!0,!l.onerror)throw d;l.onerror(d)}c||i.notify(b)}]),i.promise},o.prototype.thenResolve=function(a){return F(this,function(){return a})},o.prototype.thenReject=function(a){return F(this,function(){throw a})},nb(["isFulfilled","isRejected","isPending","dispatch","when","spread","get","set","del","delete","post","send","mapply","invoke","mcall","keys","fapply","fcall","fbind","all","allResolved","timeout","delay","catch","finally","fail","fin","progress","done","nfcall","nfapply","nfbind","denodeify","nbind","npost","nsend","nmapply","ninvoke","nmcall","nodeify"],function(a,b){o.prototype[b]=function(){return l[b].apply(l,[this].concat(mb(arguments)))}},void 0),o.prototype.toSource=function(){return this.toString()},o.prototype.toString=function(){return"[object Promise]"},l.nearer=p,l.isPromise=q,l.isPromiseAlike=r,l.isPending=s,l.isFulfilled=t,l.isRejected=u;var wb=[],xb=[],yb=!1,zb=!0;l.resetUnhandledRejections=x,l.getUnhandledReasons=function(){return wb.slice()},l.stopUnhandledRejectionTracking=function(){x(),"undefined"!=typeof a&&a.on&&a.removeListener("exit",w),zb=!1
},x(),l.reject=A,l.fulfill=B,l.resolve=C,l.master=E,l.when=F,l.spread=G,l.async=H,l.spawn=I,l["return"]=J,l.promised=K,l.dispatch=L,l.dispatcher=M,l.get=M("get"),l.set=M("set"),l["delete"]=l.del=M("delete");var Ab=l.post=M("post");l.mapply=Ab,l.send=N,l.invoke=N,l.mcall=N,l.fapply=O,l["try"]=P,l.fcall=P,l.fbind=Q,l.keys=M("keys"),l.all=R,l.allResolved=k(S,"allResolved","allSettled"),l.allSettled=T,l["catch"]=l.fail=U,l.progress=V,l["finally"]=l.fin=W,l.done=X,l.timeout=Y,l.delay=Z,l.nfapply=$,l.nfcall=_,l.nfbind=ab,l.denodeify=l.nfbind,l.nbind=bb,l.npost=cb,l.nmapply=cb,l.nsend=db,l.ninvoke=l.nsend,l.nmcall=l.nsend,l.nodeify=eb;var Bb=j();return l})}(a("__browserify_process"))},{__browserify_process:2}],21:[function(a,b,c){function d(){var a=[].slice.call(arguments).join(" ");throw new Error([a,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}var e=a("./sha"),f=a("./rng"),g=a("./md5"),h={sha1:{hex:e.hex_sha1,binary:e.b64_sha1,ascii:e.str_sha1},md5:{hex:g.hex_md5,binary:g.b64_md5,ascii:g.any_md5}};c.createHash=function(a){a=a||"sha1",h[a]||d("algorithm:",a,"is not yet supported");var b="",c=h[a];return{update:function(a){return b+=a,this},digest:function(e){e=e||"binary";var f;(f=c[e])||d("encoding:",e,"is not yet supported for algorithm",a);var g=f(b);return b=null,g}}},c.randomBytes=function(a,b){if(!b||!b.call)return f(a);try{b.call(this,void 0,f(a))}catch(c){b(c)}},["createCredentials","createHmac","createCypher","createCypheriv","createDecipher","createDecipheriv","createSign","createVerify","createDeffieHellman","pbkdf2"].forEach(function(a){c[a]=function(){d("sorry,",a,"is not implemented yet")}})},{"./rng":28,"./sha":29,"./md5":30}],16:[function(a,b){var c=a("lodash"),d=a("./find"),e=a("./search"),f=a("../selector"),g=d(e.searcher),h={title:function(a,b){return a.title().toLowerCase()<b.title().toLowerCase()?-1:a.title().toLowerCase()>b.title().toLowerCase()?1:0}};b.exports={find:function(){var a=c.map(c.toArray(arguments),function(a){return c.isString(a)?f(a):a});return g(a,this)},sort:function(a){return a||(a=h.title),this.each(function(b){var d=b.children().containers().sort(a),e=b.get(0);e.children=c.map(d,function(a){return a.get(0)})}),this},filter:function(a){c.isFunction(a)||(a=e.compiler(a));var b=c.filter(this.containers(),a);return this.spawn(c.map(b,function(a){return a.get(0)}))},match:function(a){if(this.count()<=0)return!1;var b=this.filter(a);return b.count()>0}}},{"./find":31,"./search":32,"../selector":23,lodash:7}],28:[function(a,b){!function(){var a,c,d=this;if(a=function(a){for(var b,b,c=new Array(a),d=0;a>d;d++)0==(3&d)&&(b=4294967296*Math.random()),c[d]=255&b>>>((3&d)<<3);return c},d.crypto&&crypto.getRandomValues){var e=new Uint32Array(4);c=function(a){var b=new Array(a);crypto.getRandomValues(e);for(var c=0;a>c;c++)b[c]=255&e[c>>2]>>>8*(3&c);return b}}b.exports=c||a}()},{}],29:[function(a,b,c){function d(a){return r(j(p(a),a.length*v))}function e(a){return s(j(p(a),a.length*v))}function f(a){return q(j(p(a),a.length*v))}function g(a,b){return r(m(a,b))}function h(a,b){return s(m(a,b))}function i(a,b){return q(m(a,b))}function j(a,b){a[b>>5]|=128<<24-b%32,a[(b+64>>9<<4)+15]=b;for(var c=Array(80),d=1732584193,e=-271733879,f=-1732584194,g=271733878,h=-1009589776,i=0;i<a.length;i+=16){for(var j=d,m=e,p=f,q=g,r=h,s=0;80>s;s++){c[s]=16>s?a[i+s]:o(c[s-3]^c[s-8]^c[s-14]^c[s-16],1);var t=n(n(o(d,5),k(s,e,f,g)),n(n(h,c[s]),l(s)));h=g,g=f,f=o(e,30),e=d,d=t}d=n(d,j),e=n(e,m),f=n(f,p),g=n(g,q),h=n(h,r)}return Array(d,e,f,g,h)}function k(a,b,c,d){return 20>a?b&c|~b&d:40>a?b^c^d:60>a?b&c|b&d|c&d:b^c^d}function l(a){return 20>a?1518500249:40>a?1859775393:60>a?-1894007588:-899497514}function m(a,b){var c=p(a);c.length>16&&(c=j(c,a.length*v));for(var d=Array(16),e=Array(16),f=0;16>f;f++)d[f]=909522486^c[f],e[f]=1549556828^c[f];var g=j(d.concat(p(b)),512+b.length*v);return j(e.concat(g),672)}function n(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function o(a,b){return a<<b|a>>>32-b}function p(a){for(var b=Array(),c=(1<<v)-1,d=0;d<a.length*v;d+=v)b[d>>5]|=(a.charCodeAt(d/v)&c)<<32-v-d%32;return b}function q(a){for(var b="",c=(1<<v)-1,d=0;d<32*a.length;d+=v)b+=String.fromCharCode(a[d>>5]>>>32-v-d%32&c);return b}function r(a){for(var b=t?"0123456789ABCDEF":"0123456789abcdef",c="",d=0;d<4*a.length;d++)c+=b.charAt(15&a[d>>2]>>8*(3-d%4)+4)+b.charAt(15&a[d>>2]>>8*(3-d%4));return c}function s(a){for(var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="",d=0;d<4*a.length;d+=3)for(var e=(255&a[d>>2]>>8*(3-d%4))<<16|(255&a[d+1>>2]>>8*(3-(d+1)%4))<<8|255&a[d+2>>2]>>8*(3-(d+2)%4),f=0;4>f;f++)c+=8*d+6*f>32*a.length?u:b.charAt(63&e>>6*(3-f));return c}c.hex_sha1=d,c.b64_sha1=e,c.str_sha1=f,c.hex_hmac_sha1=g,c.b64_hmac_sha1=h,c.str_hmac_sha1=i;var t=0,u="",v=8},{}],23:[function(a,b){function c(a){for(var b=null,c=a?a:"",d="",e=[],f=function(){b=null;for(var a in h){var d=h[a];if(b=c.match(d.regexp))return e.push(g.extend({value:b[0]},d)),c=c.replace(b[0],""),!0}return!1};f()&&d!=c;);return e}function d(){return{classnames:{},attr:[],modifier:{}}}function e(a){if(!g.isString(a))return a;var b=c(a),e=[],f=[],h=d(),i=function(){f.length>0&&e.push(f),f=[]},j=function(){g.keys(h).length>0&&f.push(h),h=d()},k=function(a,b){a.mapper.apply(null,[a.value,b])};return g.each(b,function(a,b){"splitter"==a.name&&a.value.match(/,/)?(j(),i()):("splitter"==a.name&&b>0&&j(),k(a,h))}),j(),i(),{string:a,phases:e}}function f(a){if(!g.isString(a))return a;a=a||"";var b={"class":{},modifier:{}};return a=a.replace(/_(\w+)/,function(a,c){return b.id=c,""}),a=a.replace(/\.(\w+)/g,function(a,c){return b.class[c]=!0,""}),a.match(/\d/)?b.diggerid=a:b.tag=a,b}var g=a("lodash");b.exports=e,b.exports.mini=f;var h=[{name:"tag",regexp:/^(\*|\w+)/,mapper:function(a,b){b.tag=a}},{name:"class",regexp:/^\.\w+/,mapper:function(a,b){b.class=b.class||{},b.class[a.replace(/^\./,"")]=!0}},{name:"id",regexp:/^#\w+/,mapper:function(a,b){b.id=a.replace(/^#/,"")}},{name:"diggerid",regexp:/^=[\w-]+/,mapper:function(a,b){b.diggerid=a.replace(/^=/,"")}},{name:"modifier",regexp:/^:\w+(\(.*?\))?/,mapper:function(a,b){b.modifier=b.modifier||{};var c=a.split("("),d=c[0];a=c[1],a?(a=a.replace(/\)$/,""),a=JSON.parse(a)):a=!0,b.modifier[d.replace(/^:/,"")]=a}},{name:"attr",regexp:/^\[.*?["']?.*?["']?\]/,mapper:function(a,b){b.attr=b.attr||[];var c=a.match(/\[(.*?)([=><\^\|\*\~\$\!]+)["']?(.*?)["']?\]/);c?b.attr.push({field:c[1],operator:c[2],value:c[3]}):b.attr.push({field:attrString.replace(/^\[/,"").replace(/\]$/,"")})}},{name:"splitter",regexp:/^[ ,<>]+/,mapper:function(a,b){b.splitter=a.replace(/\s+/g,"")}}]},{lodash:7}],24:[function(a,b){function c(a){var b=this;a=a||{},e.apply(this,[a]),this.url=a.url||"/",this.method=a.method||"get",this.query=a.query||{};var c=f.parse(this.url);c.query&&g.each(c.query.split("&"),function(a){var c=a.split("=");b.query[c[0]]=c[1]}),g.each(h,function(a){b[a]=c[a]||i[a]})}var d=a("util"),e=a("./message"),f=a("url"),g=a("lodash");b.exports=c;var h=["protocol","hostname","port","pathname","hash"],i={protocol:"http:",hostname:"localhost",port:null,pathname:"/",hash:null};c.factory=function(a){return new c(a)},d.inherits(c,e),c.prototype.clone=function(){return c.factory(JSON.parse(JSON.stringify(this.toJSON())))},c.prototype.debug=function(){return this.setHeader("x-digger-debug",!0),this},c.prototype.inject=function(a){var b=this;return g.each(["x-digger-debug","x-json-resource","x-json-meta","x-contract-id"],function(c){var d=b.getHeader(c);d&&a.setHeader(c,d)}),this},c.prototype.toJSON=function(){var a=this,b=e.prototype.toJSON.apply(this);return b.url=this.url,b.method=this.method,b.query=this.query,g.each(h,function(c){b[c]=a[c]}),b},c.prototype.expect=function(a){return this.setHeader("x-expect",a),this}},{util:11,url:9,"./message":26,lodash:7}],30:[function(a,b,c){function d(a){return h(g(k(a)))}function e(a){return i(g(k(a)))}function f(a,b){return j(g(k(a)),b)}function g(a){return m(n(l(a),8*a.length))}function h(a){try{}catch(b){v=0}for(var c,d=v?"0123456789ABCDEF":"0123456789abcdef",e="",f=0;f<a.length;f++)c=a.charCodeAt(f),e+=d.charAt(15&c>>>4)+d.charAt(15&c);return e}function i(a){try{}catch(b){w=""}for(var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="",e=a.length,f=0;e>f;f+=3)for(var g=a.charCodeAt(f)<<16|(e>f+1?a.charCodeAt(f+1)<<8:0)|(e>f+2?a.charCodeAt(f+2):0),h=0;4>h;h++)d+=8*f+6*h>8*a.length?w:c.charAt(63&g>>>6*(3-h));return d}function j(a,b){var c,d,e,f,g,h=b.length,i=Array(Math.ceil(a.length/2));for(c=0;c<i.length;c++)i[c]=a.charCodeAt(2*c)<<8|a.charCodeAt(2*c+1);var j=Math.ceil(8*a.length/(Math.log(b.length)/Math.log(2))),k=Array(j);for(d=0;j>d;d++){for(g=Array(),f=0,c=0;c<i.length;c++)f=(f<<16)+i[c],e=Math.floor(f/h),f-=e*h,(g.length>0||e>0)&&(g[g.length]=e);k[d]=f,i=g}var l="";for(c=k.length-1;c>=0;c--)l+=b.charAt(k[c]);return l}function k(a){for(var b,c,d="",e=-1;++e<a.length;)b=a.charCodeAt(e),c=e+1<a.length?a.charCodeAt(e+1):0,b>=55296&&56319>=b&&c>=56320&&57343>=c&&(b=65536+((1023&b)<<10)+(1023&c),e++),127>=b?d+=String.fromCharCode(b):2047>=b?d+=String.fromCharCode(192|31&b>>>6,128|63&b):65535>=b?d+=String.fromCharCode(224|15&b>>>12,128|63&b>>>6,128|63&b):2097151>=b&&(d+=String.fromCharCode(240|7&b>>>18,128|63&b>>>12,128|63&b>>>6,128|63&b));return d}function l(a){for(var b=Array(a.length>>2),c=0;c<b.length;c++)b[c]=0;for(var c=0;c<8*a.length;c+=8)b[c>>5]|=(255&a.charCodeAt(c/8))<<c%32;return b}function m(a){for(var b="",c=0;c<32*a.length;c+=8)b+=String.fromCharCode(255&a[c>>5]>>>c%32);return b}function n(a,b){a[b>>5]|=128<<b%32,a[(b+64>>>9<<4)+14]=b;for(var c=1732584193,d=-271733879,e=-1732584194,f=271733878,g=0;g<a.length;g+=16){var h=c,i=d,j=e,k=f;c=p(c,d,e,f,a[g+0],7,-680876936),f=p(f,c,d,e,a[g+1],12,-389564586),e=p(e,f,c,d,a[g+2],17,606105819),d=p(d,e,f,c,a[g+3],22,-1044525330),c=p(c,d,e,f,a[g+4],7,-176418897),f=p(f,c,d,e,a[g+5],12,1200080426),e=p(e,f,c,d,a[g+6],17,-1473231341),d=p(d,e,f,c,a[g+7],22,-45705983),c=p(c,d,e,f,a[g+8],7,1770035416),f=p(f,c,d,e,a[g+9],12,-1958414417),e=p(e,f,c,d,a[g+10],17,-42063),d=p(d,e,f,c,a[g+11],22,-1990404162),c=p(c,d,e,f,a[g+12],7,1804603682),f=p(f,c,d,e,a[g+13],12,-40341101),e=p(e,f,c,d,a[g+14],17,-1502002290),d=p(d,e,f,c,a[g+15],22,1236535329),c=q(c,d,e,f,a[g+1],5,-165796510),f=q(f,c,d,e,a[g+6],9,-1069501632),e=q(e,f,c,d,a[g+11],14,643717713),d=q(d,e,f,c,a[g+0],20,-373897302),c=q(c,d,e,f,a[g+5],5,-701558691),f=q(f,c,d,e,a[g+10],9,38016083),e=q(e,f,c,d,a[g+15],14,-660478335),d=q(d,e,f,c,a[g+4],20,-405537848),c=q(c,d,e,f,a[g+9],5,568446438),f=q(f,c,d,e,a[g+14],9,-1019803690),e=q(e,f,c,d,a[g+3],14,-187363961),d=q(d,e,f,c,a[g+8],20,1163531501),c=q(c,d,e,f,a[g+13],5,-1444681467),f=q(f,c,d,e,a[g+2],9,-51403784),e=q(e,f,c,d,a[g+7],14,1735328473),d=q(d,e,f,c,a[g+12],20,-1926607734),c=r(c,d,e,f,a[g+5],4,-378558),f=r(f,c,d,e,a[g+8],11,-2022574463),e=r(e,f,c,d,a[g+11],16,1839030562),d=r(d,e,f,c,a[g+14],23,-35309556),c=r(c,d,e,f,a[g+1],4,-1530992060),f=r(f,c,d,e,a[g+4],11,1272893353),e=r(e,f,c,d,a[g+7],16,-155497632),d=r(d,e,f,c,a[g+10],23,-1094730640),c=r(c,d,e,f,a[g+13],4,681279174),f=r(f,c,d,e,a[g+0],11,-358537222),e=r(e,f,c,d,a[g+3],16,-722521979),d=r(d,e,f,c,a[g+6],23,76029189),c=r(c,d,e,f,a[g+9],4,-640364487),f=r(f,c,d,e,a[g+12],11,-421815835),e=r(e,f,c,d,a[g+15],16,530742520),d=r(d,e,f,c,a[g+2],23,-995338651),c=s(c,d,e,f,a[g+0],6,-198630844),f=s(f,c,d,e,a[g+7],10,1126891415),e=s(e,f,c,d,a[g+14],15,-1416354905),d=s(d,e,f,c,a[g+5],21,-57434055),c=s(c,d,e,f,a[g+12],6,1700485571),f=s(f,c,d,e,a[g+3],10,-1894986606),e=s(e,f,c,d,a[g+10],15,-1051523),d=s(d,e,f,c,a[g+1],21,-2054922799),c=s(c,d,e,f,a[g+8],6,1873313359),f=s(f,c,d,e,a[g+15],10,-30611744),e=s(e,f,c,d,a[g+6],15,-1560198380),d=s(d,e,f,c,a[g+13],21,1309151649),c=s(c,d,e,f,a[g+4],6,-145523070),f=s(f,c,d,e,a[g+11],10,-1120210379),e=s(e,f,c,d,a[g+2],15,718787259),d=s(d,e,f,c,a[g+9],21,-343485551),c=t(c,h),d=t(d,i),e=t(e,j),f=t(f,k)}return Array(c,d,e,f)}function o(a,b,c,d,e,f){return t(u(t(t(b,a),t(d,f)),e),c)}function p(a,b,c,d,e,f,g){return o(b&c|~b&d,a,b,e,f,g)}function q(a,b,c,d,e,f,g){return o(b&d|c&~d,a,b,e,f,g)}function r(a,b,c,d,e,f,g){return o(b^c^d,a,b,e,f,g)}function s(a,b,c,d,e,f,g){return o(c^(b|~d),a,b,e,f,g)}function t(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function u(a,b){return a<<b|a>>>32-b}var v=0,w="";c.hex_md5=d,c.b64_md5=e,c.any_md5=f},{}],22:[function(a,b){function c(a){return!j.isUndefined(a)&&!j.isNull(a)}function d(a){if(a.nodeType==a.ELEMENT_NODE){var b={id:!0,diggerid:!0},e={tag:!0,"class":!0},f={_digger:{tag:a.nodeName,"class":j.filter((a.getAttribute("class")||"").split(/\s+/),function(a){return a.match(/\w/)})},_children:[]};return j.each(b,function(b,c){f._digger[c]=a.getAttribute(c)||""}),j.each(a.attributes,function(a){b[a.name]||e[a.name]||(f[a.name]=a.value)}),f._children=j.filter(j.map(a.childNodes,d),c),f}}function e(a){return"undefined"!=typeof k.DOMParser?function(a){var b=(new k.DOMParser).parseFromString(a,"text/xml");return j.map(b.childNodes,d)}(a):k&&"undefined"!=typeof k.ActiveXObject&&new k.ActiveXObject("Microsoft.XMLDOM")?function(a){var b=new k.ActiveXObject("Microsoft.XMLDOM");return b.async="false",b.loadXML(a),j.map(b.childNodes,d)}(a):void 0}function f(b){var c=a("xmldom"),e=c.DOMParser,f=(new e).parseFromString(b),g=j.map(f.childNodes,d);return g}function g(a){return l?f(a):e(a)}function h(a,b){function c(){for(var a="	",c="",d=0;b>d;d++)c+=a;return c}var d=a._digger||{},e=a._children||[],f=a,g={id:d.id,"class":j.isArray(d.class)?d.class.join(" "):""},i=[];if(j.each(f,function(a,b){"_digger"!=b&&(g[b]=j.isString(a)?a:""+a)}),j.each(g,function(a,b){j.isEmpty(a)||i.push(b+'="'+a+'"')}),e&&e.length>0){var k=c()+"<"+d.tag+" "+i.join(" ")+">"+"\n";return j.each(e,function(a){k+=h(a,b+1)}),k+=c()+"</"+d.tag+">"+"\n"}return c()+"<"+d.tag+" "+i.join(" ")+" />"+"\n"}function i(a){return j.map(a,function(a){return h(a,0)}).join("\n")}var j=a("lodash"),k=this;b.exports.parse=g,b.exports.stringify=i;var l=!k.document},{xmldom:33,lodash:7}],26:[function(a,b){function c(a){a=a||{},f.call(this),this.headers=a.headers||{},this.body=a.body||null,this.headerSent=!1}var d=a("lodash"),e=a("util"),f=a("events").EventEmitter;b.exports=c,e.inherits(c,f),c.prototype.toJSON=function(){return{headers:this.headers,body:this.body}},c.prototype.setHeader=function(a,b){if(arguments.length<2)throw new Error("`name` and `value` are required for setHeader().");if(this.headerSent)throw new Error("Can't set headers after they are sent.");var c=a.toLowerCase();return this.headers=this.headers||{},this.headers[c]=b,this},c.prototype.getHeader=function(a){if(arguments.length<1)throw new Error("`name` is required for getHeader().");if(this.headers){var b=a.toLowerCase(),c=this.headers[b];return c?(0===a.indexOf("x-json")&&d.isString(c)&&(c=this.headers[b]=JSON.parse(c)),c):c}},c.prototype.removeHeader=function(a){if(arguments.length<1)throw new Error("`name` is required for removeHeader().");if(this.headerSent)throw new Error("Can't remove headers after they are sent.");if(this.headers){var b=a.toLowerCase();delete this.headers[b]}}},{util:11,events:3,lodash:7}],34:[function(a,b){function c(a){return null!==a&&("object"==typeof a||"function"==typeof a)}b.exports=c},{}],25:[function(a,b){function c(){for(var a={},b=0;b<arguments.length;b++){var c=arguments[b];if(e(c))for(var f=d(c),g=0;g<f.length;g++){var h=f[g];a[h]=c[h]}}return a}var d=a("object-keys"),e=a("./has-keys");b.exports=c},{"./has-keys":34,"object-keys":35}],33:[function(a,b,c){function d(a){this.options=1!=a&&a||{locator:{}}}function e(a,b,c){function d(b){var d=a[b];if(!d)if(g)d=2==a.length?function(c){a(b,c)}:a;else for(var f=arguments.length;--f&&!(d=a[arguments[f]]););e[b]=d&&function(a){d(a+h(c))}||function(){}}if(!a){if(b instanceof f)return b;a=b}var e={},g=a instanceof Function;return c=c||{},d("warning","warn"),d("error","warn","warning"),d("fatalError","warn","warning","error"),e}function f(){this.cdata=!1}function g(a,b){b.lineNumber=a.lineNumber,b.columnNumber=a.columnNumber}function h(a){return a?"\n@"+(a.systemId||"")+"#[line:"+a.lineNumber+",col:"+a.columnNumber+"]":void 0}function i(a,b,c){return"string"==typeof a?a.substr(b,c):a.length>=b+c||b?new java.lang.String(a,b,c)+"":a}function j(a,b){a.currentElement?a.currentElement.appendChild(b):a.document.appendChild(b)}if(d.prototype.parseFromString=function(a,b){var c=new k,d=this.options,g=d.domBuilder||new f,h=d.errorHandler,i=d.locator,j={},l={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return i&&g.setDocumentLocator(i),c.errorHandler=e(h,g,i),c.domBuilder=d.domBuilder||g,/\/x?html?$/.test(b)&&(l.nbsp="¬†",l.copy="¬©",j[""]="http://www.w3.org/1999/xhtml"),c.parse(a,j,l),g.document},f.prototype={startDocument:function(){this.document=(new l).createDocument(null,null,null),this.locator&&(this.document.documentURI=this.locator.systemId)},startElement:function(a,b,c,d){var e=this.document,f=e.createElementNS(a,c||b),h=d.length;j(this,f),this.currentElement=f,this.locator&&g(this.locator,f);for(var i=0;h>i;i++){var a=d.getURI(i),k=d.getValue(i),c=d.getQName(i),l=e.createAttributeNS(a,c);l.getOffset&&g(l.getOffset(1),l),l.value=l.nodeValue=k,f.setAttributeNode(l)}},endElement:function(){var a=this.currentElement;a.tagName,this.currentElement=a.parentNode},startPrefixMapping:function(){},endPrefixMapping:function(){},processingInstruction:function(a,b){var c=this.document.createProcessingInstruction(a,b);this.locator&&g(this.locator,c),j(this,c)},ignorableWhitespace:function(){},characters:function(a){if(a=i.apply(this,arguments),this.currentElement&&a){if(this.cdata){var b=this.document.createCDATASection(a);this.currentElement.appendChild(b)}else{var b=this.document.createTextNode(a);this.currentElement.appendChild(b)}this.locator&&g(this.locator,b)}},skippedEntity:function(){},endDocument:function(){this.document.normalize()},setDocumentLocator:function(a){(this.locator=a)&&(a.lineNumber=0)},comment:function(a){a=i.apply(this,arguments);var b=this.document.createComment(a);this.locator&&g(this.locator,b),j(this,b)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(a,b,c){var d=this.document.implementation;if(d&&d.createDocumentType){var e=d.createDocumentType(a,b,c);this.locator&&g(this.locator,e),j(this,e)}},warning:function(a){console.warn(a,h(this.locator))},error:function(a){console.error(a,h(this.locator))},fatalError:function(a){throw console.error(a,h(this.locator)),a}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(a){f.prototype[a]=function(){return null}}),"function"==typeof a){var k=a("./sax").XMLReader,l=c.DOMImplementation=a("./dom").DOMImplementation;c.XMLSerializer=a("./dom").XMLSerializer,c.DOMParser=d}},{"./dom":36,"./sax":37}],31:[function(a,b){function c(a){this.count=a.length,this.index=0,this.finished=!1}function d(a){return function(b,d){var f=new c(b),g=d.spawn();return e.each(b.reverse(),function(b){f.next();var h=d.spawn();return e.each(b.phases,function(b){var f=d,g=new c(b);e.each(b,function(b){g.next();var c=a(b,f);return c.count()<=0?!1:(g.finished?h.add(c):f=c,!0)})}),h.count()<=0?!1:(f.finished?g=h:d=h,void 0)}),g}}var e=a("lodash");b.exports=d,c.prototype.next=function(){this.index++,this.index>=this.count&&(this.finished=!0)}},{lodash:7}],36:[function(a,b,c){function d(a,b){for(var c in a)b[c]=a[c]}function e(a,b){function c(){}var e=a.prototype;if(Object.create){var f=Object.create(b.prototype);e.__proto__=f}e instanceof b||(c.prototype=b.prototype,c=new c,d(e,c),a.prototype=e=c),e.constructor!=a&&("function"!=typeof a&&console.error("unknow Class:"+a),e.constructor=a)}function f(a,b){if(b instanceof Error)var c=b;else c=this,Error.call(this,db[a]),this.message=db[a],Error.captureStackTrace&&Error.captureStackTrace(this,f);return c.code=a,b&&(this.message=this.message+": "+b),c}function g(){}function h(a,b){this._node=a,this._refresh=b,i(this)}function i(a){var b=a._node._inc||a._node.ownerDocument._inc;if(a._inc!=b){var c=a._refresh(a._node);O(a,"length",c.length),d(c,a),a._inc=b}}function j(){}function k(a,b){for(var c=a.length;c--;)if(a[c]===b)return c}function l(a,b,c,d){if(d?b[k(b,d)]=c:b[b.length++]=c,a){c.ownerElement=a;var e=a.ownerDocument;e&&(d&&t(e,a,d),s(e,a,c))}}function m(a,b,c){var d=k(b,c);if(!(d>=0))throw f(eb,new Error);for(var e=b.length-1;e>d;)b[d]=b[++d];if(b.length=e,a){var g=a.ownerDocument;g&&(t(g,a,c),c.ownerElement=null)}}function n(a){if(this._features={},a)for(var b in a)this._features=a[b]}function o(){}function p(a){return"<"==a&&"&lt;"||">"==a&&"&gt;"||"&"==a&&"&amp;"||'"'==a&&"&quot;"||"&#"+a.charCodeAt()+";"}function q(a,b){if(b(a))return!0;if(a=a.firstChild)do if(q(a,b))return!0;while(a=a.nextSibling)}function r(){}function s(a,b,c){a&&a._inc++;var d=c.namespaceURI;"http://www.w3.org/2000/xmlns/"==d&&(b._nsMap[c.prefix?c.localName:""]=c.value)}function t(a,b,c){a&&a._inc++;var d=c.namespaceURI;"http://www.w3.org/2000/xmlns/"==d&&delete b._nsMap[c.prefix?c.localName:""]}function u(a,b,c){if(a&&a._inc){a._inc++;var d=b.childNodes;if(c)d[d.length++]=c;else{for(var e=b.firstChild,f=0;e;)d[f++]=e,e=e.nextSibling;d.length=f}}}function v(a,b){var c=b.previousSibling,d=b.nextSibling;return c?c.nextSibling=d:a.firstChild=d,d?d.previousSibling=c:a.lastChild=c,u(a.ownerDocument,a),b}function w(a,b,c){var d=b.parentNode;if(d&&d.removeChild(b),b.nodeType===ab){var e=b.firstChild;if(null==e)return b;var f=b.lastChild}else e=f=b;var g=c?c.previousSibling:a.lastChild;e.previousSibling=g,f.nextSibling=c,g?g.nextSibling=e:a.firstChild=e,null==c?a.lastChild=f:c.previousSibling=f;do e.parentNode=a;while(e!==f&&(e=e.nextSibling));return u(a.ownerDocument||a,a),b.nodeType==ab&&(b.firstChild=b.lastChild=null),b}function x(a,b){var c=b.parentNode;if(c){var d=a.lastChild;c.removeChild(b);var d=a.lastChild}var d=a.lastChild;return b.parentNode=a,b.previousSibling=d,b.nextSibling=null,d?d.nextSibling=b:a.firstChild=b,a.lastChild=b,u(a.ownerDocument,a,b),b}function y(){this._nsMap={}}function z(){}function A(){}function B(){}function C(){}function D(){}function E(){}function F(){}function G(){}function H(){}function I(){}function J(){}function K(){}function L(a,b){switch(a.nodeType){case S:var c=a.attributes,d=c.length,e=a.firstChild,f=a.tagName,g=Q===a.namespaceURI;b.push("<",f);for(var h=0;d>h;h++)L(c.item(h),b,g);if(e||g&&!/^(?:meta|link|img|br|hr|input)$/i.test(f)){if(b.push(">"),g&&/^script$/i.test(f))e&&b.push(e.data);else for(;e;)L(e,b),e=e.nextSibling;b.push("</",f,">")}else b.push("/>");return;case $:case ab:for(var e=a.firstChild;e;)L(e,b),e=e.nextSibling;return;case T:return b.push(" ",a.name,'="',a.value.replace(/[<&"]/g,p),'"');case U:return b.push(a.data.replace(/[<&]/g,p));case V:return b.push("<![CDATA[",a.data,"]]>");case Z:return b.push("<!--",a.data,"-->");case _:var i=a.publicId,j=a.systemId;if(b.push("<!DOCTYPE ",a.name),i)b.push(' PUBLIC "',i),j&&"."!=j&&b.push('" "',j),b.push('">');else if(j&&"."!=j)b.push(' SYSTEM "',j,'">');else{var k=a.internalSubset;k&&b.push(" [",k,"]"),b.push(">")}return;case Y:return b.push("<?",a.target," ",a.data,"?>");case W:return b.push("&",a.nodeName,";");default:b.push("??",a.nodeName)}}function M(a,b,c){var d;switch(b.nodeType){case S:d=b.cloneNode(!1),d.ownerDocument=a;for(var e=d.attributes,f=e.length,g=0;f>g;g++)d.setAttributeNodeNS(M(a,e.item(g),c));case ab:break;case T:c=!0}if(d||(d=b.cloneNode(!1)),d.ownerDocument=a,d.parentNode=null,c)for(var h=b.firstChild;h;)d.appendChild(M(a,h,c)),h=h.nextSibling;return d}function N(a,b,c){var d=new b.constructor;for(var e in b){var f=b[e];"object"!=typeof f&&f!=d[e]&&(d[e]=f)}switch(b.childNodes&&(d.childNodes=new g),d.ownerDocument=a,d.nodeType){case S:var h=b.attributes,i=d.attributes=new j,k=h.length;i._ownerElement=d;for(var l=0;k>l;l++)d.setAttributeNode(N(a,h.item(l),!0));break;case T:c=!0}if(c)for(var m=b.firstChild;m;)d.appendChild(N(a,m,c)),m=m.nextSibling;return d}function O(a,b,c){a[b]=c}function P(a){switch(a.nodeType){case 1:case 11:var b=[];for(a=a.firstChild;a;)7!==a.nodeType&&8!==a.nodeType&&b.push(P(a)),a=a.nextSibling;return b.join("");default:return a.nodeValue}}var Q="http://www.w3.org/1999/xhtml",R={},S=R.ELEMENT_NODE=1,T=R.ATTRIBUTE_NODE=2,U=R.TEXT_NODE=3,V=R.CDATA_SECTION_NODE=4,W=R.ENTITY_REFERENCE_NODE=5,X=R.ENTITY_NODE=6,Y=R.PROCESSING_INSTRUCTION_NODE=7,Z=R.COMMENT_NODE=8,$=R.DOCUMENT_NODE=9,_=R.DOCUMENT_TYPE_NODE=10,ab=R.DOCUMENT_FRAGMENT_NODE=11,bb=R.NOTATION_NODE=12,cb={},db={};cb.INDEX_SIZE_ERR=(db[1]="Index size error",1),cb.DOMSTRING_SIZE_ERR=(db[2]="DOMString size error",2),cb.HIERARCHY_REQUEST_ERR=(db[3]="Hierarchy request error",3),cb.WRONG_DOCUMENT_ERR=(db[4]="Wrong document",4),cb.INVALID_CHARACTER_ERR=(db[5]="Invalid character",5),cb.NO_DATA_ALLOWED_ERR=(db[6]="No data allowed",6),cb.NO_MODIFICATION_ALLOWED_ERR=(db[7]="No modification allowed",7);var eb=cb.NOT_FOUND_ERR=(db[8]="Not found",8);cb.NOT_SUPPORTED_ERR=(db[9]="Not supported",9);var fb=cb.INUSE_ATTRIBUTE_ERR=(db[10]="Attribute in use",10);cb.INVALID_STATE_ERR=(db[11]="Invalid state",11),cb.SYNTAX_ERR=(db[12]="Syntax error",12),cb.INVALID_MODIFICATION_ERR=(db[13]="Invalid modification",13),cb.NAMESPACE_ERR=(db[14]="Invalid namespace",14),cb.INVALID_ACCESS_ERR=(db[15]="Invalid access",15),f.prototype=Error.prototype,d(cb,f),g.prototype={length:0,item:function(a){return this[a]||null}},h.prototype.item=function(a){return i(this),this[a]},e(h,g),j.prototype={length:0,item:g.prototype.item,getNamedItem:function(a){for(var b=this.length;b--;){var c=this[b];if(c.nodeName==a)return c}},setNamedItem:function(a){var b=a.ownerElement;if(b&&b!=this._ownerElement)throw new f(fb);var c=this.getNamedItem(a.nodeName);return l(this._ownerElement,this,a,c),c},setNamedItemNS:function(a){var b,c=a.ownerElement;if(c&&c!=this._ownerElement)throw new f(fb);return b=this.getNamedItemNS(a.namespaceURI,a.localName),l(this._ownerElement,this,a,b),b},removeNamedItem:function(a){var b=this.getNamedItem(a);return m(this._ownerElement,this,b),b},removeNamedItemNS:function(a,b){var c=this.getNamedItemNS(a,b);return m(this._ownerElement,this,c),c},getNamedItemNS:function(a,b){for(var c=this.length;c--;){var d=this[c];if(d.localName==b&&d.namespaceURI==a)return d}return null}},n.prototype={hasFeature:function(a,b){var c=this._features[a.toLowerCase()];return c&&(!b||b in c)?!0:!1},createDocument:function(a,b,c){var d=new r;if(d.doctype=c,c&&d.appendChild(c),d.implementation=this,d.childNodes=new g,b){var e=d.createElementNS(a,b);d.appendChild(e)}return d},createDocumentType:function(a,b,c){var d=new E;return d.name=a,d.nodeName=a,d.publicId=b,d.systemId=c,d}},o.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(a,b){return w(this,a,b)},replaceChild:function(a,b){this.insertBefore(a,b),b&&this.removeChild(b)},removeChild:function(a){return v(this,a)},appendChild:function(a){return this.insertBefore(a,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(a){return N(this.ownerDocument||this,this,a)},normalize:function(){for(var a=this.firstChild;a;){var b=a.nextSibling;b&&b.nodeType==U&&a.nodeType==U?(this.removeChild(b),a.appendData(b.data)):(a.normalize(),a=b)}},isSupported:function(a,b){return this.ownerDocument.implementation.hasFeature(a,b)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(a){for(var b=this;b;){var c=b._nsMap;if(c)for(var d in c)if(c[d]==a)return d;b=2==b.nodeType?b.ownerDocument:b.parentNode}return null},lookupNamespaceURI:function(a){for(var b=this;b;){var c=b._nsMap;if(c&&a in c)return c[a];b=2==b.nodeType?b.ownerDocument:b.parentNode}return null},isDefaultNamespace:function(a){var b=this.lookupPrefix(a);return null==b}},d(R,o),d(R,o.prototype),r.prototype={nodeName:"#document",nodeType:$,doctype:null,documentElement:null,_inc:1,insertBefore:function(a,b){if(a.nodeType==ab){for(var c=a.firstChild;c;){var d=c.nextSibling;this.insertBefore(c,b),c=d}return a}return null==this.documentElement&&1==a.nodeType&&(this.documentElement=a),w(this,a,b),a.ownerDocument=this,a},removeChild:function(a){return this.documentElement==a&&(this.documentElement=null),v(this,a)},importNode:function(a,b){return M(this,a,b)},getElementById:function(a){var b=null;return q(this.documentElement,function(c){return 1==c.nodeType&&c.getAttribute("id")==a?(b=c,!0):void 0}),b},createElement:function(a){var b=new y;b.ownerDocument=this,b.nodeName=a,b.tagName=a,b.childNodes=new g;var c=b.attributes=new j;return c._ownerElement=b,b},createDocumentFragment:function(){var a=new I;return a.ownerDocument=this,a.childNodes=new g,a},createTextNode:function(a){var b=new B;return b.ownerDocument=this,b.appendData(a),b},createComment:function(a){var b=new C;return b.ownerDocument=this,b.appendData(a),b},createCDATASection:function(a){var b=new D;return b.ownerDocument=this,b.appendData(a),b},createProcessingInstruction:function(a,b){var c=new J;return c.ownerDocument=this,c.tagName=c.target=a,c.nodeValue=c.data=b,c},createAttribute:function(a){var b=new z;return b.ownerDocument=this,b.name=a,b.nodeName=a,b.localName=a,b.specified=!0,b},createEntityReference:function(a){var b=new H;return b.ownerDocument=this,b.nodeName=a,b},createElementNS:function(a,b){var c=new y,d=b.split(":"),e=c.attributes=new j;return c.childNodes=new g,c.ownerDocument=this,c.nodeName=b,c.tagName=b,c.namespaceURI=a,2==d.length?(c.prefix=d[0],c.localName=d[1]):c.localName=b,e._ownerElement=c,c},createAttributeNS:function(a,b){var c=new z,d=b.split(":");return c.ownerDocument=this,c.nodeName=b,c.name=b,c.namespaceURI=a,c.specified=!0,2==d.length?(c.prefix=d[0],c.localName=d[1]):c.localName=b,c}},e(r,o),y.prototype={nodeType:S,hasAttribute:function(a){return null!=this.getAttributeNode(a)},getAttribute:function(a){var b=this.getAttributeNode(a);return b&&b.value||""},getAttributeNode:function(a){return this.attributes.getNamedItem(a)},setAttribute:function(a,b){var c=this.ownerDocument.createAttribute(a);c.value=c.nodeValue=""+b,this.setAttributeNode(c)},removeAttribute:function(a){var b=this.getAttributeNode(a);b&&this.removeAttributeNode(b)},appendChild:function(a){return a.nodeType===ab?this.insertBefore(a,null):x(this,a)},setAttributeNode:function(a){return this.attributes.setNamedItem(a)},setAttributeNodeNS:function(a){return this.attributes.setNamedItemNS(a)},removeAttributeNode:function(a){return this.attributes.removeNamedItem(a.nodeName)},removeAttributeNS:function(a,b){var c=this.getAttributeNodeNS(a,b);c&&this.removeAttributeNode(c)},hasAttributeNS:function(a,b){return null!=this.getAttributeNodeNS(a,b)},getAttributeNS:function(a,b){var c=this.getAttributeNodeNS(a,b);return c&&c.value||""},setAttributeNS:function(a,b,c){var d=this.ownerDocument.createAttributeNS(a,b);d.value=d.nodeValue=c,this.setAttributeNode(d)},getAttributeNodeNS:function(a,b){return this.attributes.getNamedItemNS(a,b)},getElementsByTagName:function(a){return new h(this,function(b){var c=[];return q(b,function(d){d===b||d.nodeType!=S||"*"!==a&&d.tagName!=a||c.push(d)}),c})},getElementsByTagNameNS:function(a,b){return new h(this,function(c){var d=[];return q(c,function(e){e===c||e.nodeType!==S||e.namespaceURI!==a||"*"!==b&&e.localName!=b||d.push(e)}),d})}},r.prototype.getElementsByTagName=y.prototype.getElementsByTagName,r.prototype.getElementsByTagNameNS=y.prototype.getElementsByTagNameNS,e(y,o),z.prototype.nodeType=T,e(z,o),A.prototype={data:"",substringData:function(a,b){return this.data.substring(a,a+b)},appendData:function(a){a=this.data+a,this.nodeValue=this.data=a,this.length=a.length},insertData:function(a,b){this.replaceData(a,0,b)},appendChild:function(){throw new Error(db[3])
},deleteData:function(a,b){this.replaceData(a,b,"")},replaceData:function(a,b,c){var d=this.data.substring(0,a),e=this.data.substring(a+b);c=d+c+e,this.nodeValue=this.data=c,this.length=c.length}},e(A,o),B.prototype={nodeName:"#text",nodeType:U,splitText:function(a){var b=this.data,c=b.substring(a);b=b.substring(0,a),this.data=this.nodeValue=b,this.length=b.length;var d=this.ownerDocument.createTextNode(c);return this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling),d}},e(B,A),C.prototype={nodeName:"#comment",nodeType:Z},e(C,A),D.prototype={nodeName:"#cdata-section",nodeType:V},e(D,A),E.prototype.nodeType=_,e(E,o),F.prototype.nodeType=bb,e(F,o),G.prototype.nodeType=X,e(G,o),H.prototype.nodeType=W,e(H,o),I.prototype.nodeName="#document-fragment",I.prototype.nodeType=ab,e(I,o),J.prototype.nodeType=Y,e(J,o),K.prototype.serializeToString=function(a){var b=[];return L(a,b),b.join("")},o.prototype.toString=function(){return K.prototype.serializeToString(this)};try{Object.defineProperty&&(Object.defineProperty(h.prototype,"length",{get:function(){return i(this),this.$$length}}),Object.defineProperty(o.prototype,"textContent",{get:function(){return P(this)},set:function(a){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(a||String(a))&&this.appendChild(this.ownerDocument.createTextNode(a));break;default:this.data=a,this.value=value,this.nodeValue=a}}}),O=function(a,b,c){a["$$"+b]=c})}catch(gb){}"function"==typeof a&&(c.DOMImplementation=n,c.XMLSerializer=K)},{}],32:[function(a,b){function c(a){return function(b){if("*"==a.tag)return!0;if(a.id&&b.id()!=a.id)return!1;if(a.diggerid&&b.diggerid()!=a.diggerid)return!1;if(a.tag&&b.tag()!=a.tag)return!1;if(a.class)return e.all(e.keys(a.class),function(a){return b.hasClass(a)});if(a.attr){var c=e.all(a.attr,function(a){var c=b.attr(a.field),d=g[a.operator];return a.value?d?d.apply(null,[c,a.value]):!1:null!==c});if(!c)return!1}return!0}}function d(a,b){var d=c(a),e=b;if(">"==a.splitter)e=b.children();else{if("<"==a.splitter)throw new Error("we do not support the parent splitter at the moment");e=b.descendents()}var f=e.filter(d),g=a.modifier||{};return g.limit&&(f.models=f.models.slice(0,g.limit)),g.first&&f.models.length>0?f.models=[f.models[0]]:g.last&&f.models.length>0&&(f.models=[f.models[f.models.length-1]]),f}var e=a("lodash"),f=a("../../utils");a("async"),b.exports.searcher=d,b.exports.compiler=c;var g={"=":function(a,b){return!e.isUndefined(a)&&a==b},"!=":function(a,b){return!e.isUndefined(a)&&a!=b},">":function(a,b){return b=parseFloat(b),e.isUndefined(a)||isNaN(b)?!1:a>b},">=":function(a,b){return b=parseFloat(b),e.isUndefined(a)||isNaN(b)?!1:a>=b},"<":function(a,b){return b=parseFloat(b),e.isUndefined(a)||isNaN(b)?!1:b>a},"<=":function(a,b){return b=parseFloat(b),e.isUndefined(a)||isNaN(b)?!1:b>=a},"^=":function(a,b){return!e.isUndefined(a)&&null!==a.match(new RegExp("^"+f.escapeRegexp(b),"i"))},"$=":function(a,b){return!e.isUndefined(a)&&null!==a.match(new RegExp(f.escapeRegexp(b)+"$","i"))},"~=":function(a,b){return!e.isUndefined(a)&&null!==a.match(new RegExp("\\W"+f.escapeRegexp(b)+"\\W","i"))},"|=":function(a,b){return!e.isUndefined(a)&&null!==a.match(new RegExp("^"+f.escapeRegexp(b)+"-","i"))},"*=":function(a,b){return!e.isUndefined(a)&&null!==a.match(new RegExp(f.escapeRegexp(b),"i"))}}},{"../../utils":13,lodash:7,async:8}],35:[function(a,b){b.exports=Object.keys||a("./shim")},{"./shim":38}],37:[function(a,b,c){function d(){}function e(a,b,c,d,e){function k(a){if(a>65535){a-=65536;var b=55296+(a>>10),c=56320+(1023&a);return String.fromCharCode(b,c)}return String.fromCharCode(a)}function o(a){var b=a.slice(1,-1);return b in c?c[b]:"#"===b.charAt(0)?k(parseInt(b.substr(1).replace("x","0x"))):(e.error("entity not found:"+a),a)}function p(b){var c=a.substring(x,b).replace(/&#?\w+;/g,o);u&&q(x),d.characters(c,0,b-x),x=b}function q(b,c){for(;b>=s&&(c=t.exec(a));)r=c.index,s=r+c[0].length,u.lineNumber++;u.columnNumber=b-r+1}for(var r=0,s=0,t=/.+(?:\r\n?|\n)|.*$/g,u=d.locator,v=[{currentNSMap:b}],w={},x=0;;){var y=a.indexOf("<",x);switch(y>x&&p(y),a.charAt(y+1)){case"/":var z=a.indexOf(">",y+3),A=a.substring(y+2,z),B=v.pop(),C=B.localNSMap;if(B.tagName!=A&&e.fatalError("end tag name: "+A+" is not match the current start tagName:"+B.tagName),d.endElement(B.uri,B.localName,A),C)for(var D in C)d.endPrefixMapping(D);z++;break;case"?":u&&q(y),z=m(a,y,d);break;case"!":u&&q(y),z=l(a,y,d);break;default:if(0>y)return a.substr(x).match(/^\s*$/)||e.error("source code out of document root"),void 0;try{u&&q(y);var E=new n,z=g(a,y,E,o,e),F=E.length;if(F&&u){for(var G=f(u,{}),y=0;F>y;y++){var H=E[y];q(H.offset),H.offset=f(u,{})}f(G,u)}E.closed=E.closed||j(a,z,E.tagName,w),h(E,d,v),"http://www.w3.org/1999/xhtml"!==E.uri||E.closed?z++:z=i(a,z,E.tagName,o,d)}catch(I){e.error("element parse error: "+I),z=-1}}0>z?p(y+1):x=z}}function f(a,b){return b.lineNumber=a.lineNumber,b.columnNumber=a.columnNumber,b}function g(a,b,c,d,e){for(var f,g,h=++b,i=t;;){var j=a.charAt(h);switch(j){case"=":if(i===u)f=a.slice(b,h),i=w;else{if(i!==v)throw new Error("attribute equal must after attrName");i=w}break;case"'":case'"':if(i===w){if(b=h+1,h=a.indexOf(j,b),!(h>0))throw new Error("attribute value no end '"+j+"' match");g=a.slice(b,h).replace(/&#?\w+;/g,d),c.add(f,g,b-1),i=y}else{if(i!=x)throw new Error('attribute value must after "="');g=a.slice(b,h).replace(/&#?\w+;/g,d),c.add(f,g,b),e.warning('attribute "'+f+'" missed start quot('+j+")!!"),b=h+1,i=y}break;case"/":switch(i){case t:c.setTagName(a.slice(b,h));case y:case z:case A:i=A,c.closed=!0;case x:case u:case v:break;default:throw new Error("attribute invalid close char('/')")}break;case">":switch(i){case t:c.setTagName(a.slice(b,h));case y:case z:case A:break;case x:case u:g=a.slice(b,h),"/"===g.slice(-1)&&(c.closed=!0,g=g.slice(0,-1));case v:i===v&&(g=f),i==x?(e.warning('attribute "'+g+'" missed quot(")!!'),c.add(f,g.replace(/&#?\w+;/g,d),b)):(e.warning('attribute "'+g+'" missed value!! "'+g+'" instead!!'),c.add(g,g,b));break;case w:throw new Error("attribute value missed!!")}return h;case"¬Ä":j=" ";default:if(" ">=j)switch(i){case t:c.setTagName(a.slice(b,h)),i=z;break;case u:f=a.slice(b,h),i=v;break;case x:var g=a.slice(b,h).replace(/&#?\w+;/g,d);e.warning('attribute "'+g+'" missed quot(")!!'),c.add(f,g,b);case y:i=z}else switch(i){case v:e.warning('attribute "'+f+'" missed value!! "'+f+'" instead!!'),c.add(f,f,b),b=h,i=u;break;case y:e.warning('attribute space is required"'+f+'"!!');case z:i=u,b=h;break;case w:i=x,b=h;break;case A:throw new Error("elements closed character '/' and '>' must be connected to")}}h++}}function h(a,b,c){for(var d=a.tagName,e=null,f=c[c.length-1].currentNSMap,g=a.length;g--;){var h=a[g],i=h.qName,j=h.value,l=i.indexOf(":");if(l>0)var m=h.prefix=i.slice(0,l),n=i.slice(l+1),o="xmlns"===m&&n;else n=i,m=null,o="xmlns"===i&&"";h.localName=n,o!==!1&&(null==e&&(e={},k(f,f={})),f[o]=e[o]=j,h.uri="http://www.w3.org/2000/xmlns/",b.startPrefixMapping(o,j))}for(var g=a.length;g--;){h=a[g];var m=h.prefix;m&&("xml"===m&&(h.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==m&&(h.uri=f[m]))}var l=d.indexOf(":");l>0?(m=a.prefix=d.slice(0,l),n=a.localName=d.slice(l+1)):(m=null,n=a.localName=d);var p=a.uri=f[m||""];if(b.startElement(p,n,d,a),a.closed){if(b.endElement(p,n,d),e)for(m in e)b.endPrefixMapping(m)}else a.currentNSMap=f,a.localNSMap=e,c.push(a)}function i(a,b,c,d,e){if(/^(?:script|textarea)$/i.test(c)){var f=a.indexOf("</"+c+">",b),g=a.substring(b+1,f);if(/[&<]/.test(g))return/^script$/i.test(c)?(e.characters(g,0,g.length),f):(g=g.replace(/&#?\w+;/g,d),e.characters(g,0,g.length),f)}return b+1}function j(a,b,c,d){var e=d[c];return null==e&&(e=d[c]=a.lastIndexOf("</"+c+">")),b>e}function k(a,b){for(var c in a)b[c]=a[c]}function l(a,b,c){var d=a.charAt(b+2);switch(d){case"-":if("-"===a.charAt(b+3)){var e=a.indexOf("-->",b+4);return c.comment(a,b+4,e-b-4),e+3}return-1;default:if("CDATA["==a.substr(b+3,6)){var e=a.indexOf("]]>",b+9);return c.startCDATA(),c.characters(a,b+9,e-b-9),c.endCDATA(),e+3}var f=p(a,b),g=f.length;if(g>1&&/!doctype/i.test(f[0][0])){var h=f[1][0],i=g>3&&/^public$/i.test(f[2][0])&&f[3][0],j=g>4&&f[4][0],k=f[g-1];return c.startDTD(h,i,j),c.endDTD(),k.index+k[0].length}}return-1}function m(a,b,c){var d=a.indexOf("?>",b);if(d){var e=a.substring(b,d).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return e?(e[0].length,c.processingInstruction(e[1],e[2]),d+2):-1}return-1}function n(){}function o(a,b){return a.__proto__=b,a}function p(a,b){var c,d=[],e=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(e.lastIndex=b,e.exec(a);c=e.exec(a);)if(d.push(c),c[1])return d}var q=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+q.source.slice(1,-1)+"¬∑ÃÄ-ÕØ\\ux203F-‚ÅÄ]"),s=new RegExp("^"+q.source+r.source+"*(?::"+q.source+r.source+"*)?$"),t=0,u=1,v=2,w=3,x=4,y=5,z=6,A=7;d.prototype={parse:function(a,b,c){var d=this.domBuilder;d.startDocument(),k(b,b={}),e(a,b,c,d,this.errorHandler),d.endDocument()}},n.prototype={setTagName:function(a){if(!s.test(a))throw new Error("invalid tagName:"+a);this.tagName=a},add:function(a,b,c){if(!s.test(a))throw new Error("invalid attribute:"+a);this[this.length++]={qName:a,value:b,offset:c}},length:0,getLocalName:function(a){return this[a].localName},getOffset:function(a){return this[a].offset},getQName:function(a){return this[a].qName},getURI:function(a){return this[a].uri},getValue:function(a){return this[a].value}},o({},o.prototype)instanceof o||(o=function(a,b){function c(){}c.prototype=b,c=new c;for(b in a)c[b]=a[b];return c}),"function"==typeof a&&(c.XMLReader=d),"function"==typeof a&&(c.XMLReader=d)},{}],38:[function(a,b){!function(){"use strict";var c,d=Object.prototype.hasOwnProperty,e=a("is"),f=a("foreach"),g=!{toString:null}.propertyIsEnumerable("toString"),h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];c=function(a){if(!e.object(a)&&!e.array(a))throw new TypeError("Object.keys called on a non-object");var b,c=[];for(b in a)d.call(a,b)&&c.push(b);return g&&f(h,function(b){d.call(a,b)&&c.push(b)}),c},b.exports=c}()},{foreach:39,is:40}],39:[function(a,b){var c=Object.prototype.hasOwnProperty;b.exports=function(a,b,d){if("function"!=typeof b)throw new TypeError("iterator must be a function");var e=a.length;if(e===+e)for(var f=0;e>f;f++)b.call(d,a[f],f,a);else for(var g in a)c.call(a,g)&&b.call(d,a[g],g,a)}},{}],40:[function(a,b){var c=Object.prototype,d=c.hasOwnProperty,e=c.toString,f=function(a){return a!==a},g={"boolean":1,number:1,string:1,undefined:1},h=b.exports={};h.a=h.type=function(a,b){return typeof a===b},h.defined=function(a){return void 0!==a},h.empty=function(a){var b,c=e.call(a);if("[object Array]"===c||"[object Arguments]"===c)return 0===a.length;if("[object Object]"===c){for(b in a)if(d.call(a,b))return!1;return!0}return"[object String]"===c?""===a:!1},h.equal=function(a,b){var c,d=e.call(a);if(d!==e.call(b))return!1;if("[object Object]"===d){for(c in a)if(!h.equal(a[c],b[c]))return!1;return!0}if("[object Array]"===d){if(c=a.length,c!==b.length)return!1;for(;--c;)if(!h.equal(a[c],b[c]))return!1;return!0}return"[object Function]"===d?a.prototype===b.prototype:"[object Date]"===d?a.getTime()===b.getTime():a===b},h.hosted=function(a,b){var c=typeof b[a];return"object"===c?!!b[a]:!g[c]},h.instance=h["instanceof"]=function(a,b){return a instanceof b},h["null"]=function(a){return null===a},h.undefined=function(a){return void 0===a},h.arguments=function(a){var b="[object Arguments]"===e.call(a),c=!h.array(a)&&h.arraylike(a)&&h.object(a)&&h.fn(a.callee);return b||c},h.array=function(a){return"[object Array]"===e.call(a)},h.arguments.empty=function(a){return h.arguments(a)&&0===a.length},h.array.empty=function(a){return h.array(a)&&0===a.length},h.arraylike=function(a){return!!a&&!h.boolean(a)&&d.call(a,"length")&&isFinite(a.length)&&h.number(a.length)&&a.length>=0},h.boolean=function(a){return"[object Boolean]"===e.call(a)},h["false"]=function(a){return h.boolean(a)&&(a===!1||a.valueOf()===!1)},h["true"]=function(a){return h.boolean(a)&&(a===!0||a.valueOf()===!0)},h.date=function(a){return"[object Date]"===e.call(a)},h.element=function(a){return void 0!==a&&"undefined"!=typeof HTMLElement&&a instanceof HTMLElement&&1===a.nodeType},h.error=function(a){return"[object Error]"===e.call(a)},h.fn=h["function"]=function(a){var b="undefined"!=typeof window&&a===window.alert;return b||"[object Function]"===e.call(a)},h.number=function(a){return"[object Number]"===e.call(a)},h.infinite=function(a){return 1/0===a||a===-1/0},h.decimal=function(a){return h.number(a)&&!f(a)&&0!==a%1},h.divisibleBy=function(a,b){var c=h.infinite(a),d=h.infinite(b),e=h.number(a)&&!f(a)&&h.number(b)&&!f(b)&&0!==b;return c||d||e&&0===a%b},h.int=function(a){return h.number(a)&&!f(a)&&0===a%1},h.maximum=function(a,b){if(f(a))throw new TypeError("NaN is not a valid value");if(!h.arraylike(b))throw new TypeError("second argument must be array-like");for(var c=b.length;--c>=0;)if(a<b[c])return!1;return!0},h.minimum=function(a,b){if(f(a))throw new TypeError("NaN is not a valid value");if(!h.arraylike(b))throw new TypeError("second argument must be array-like");for(var c=b.length;--c>=0;)if(a>b[c])return!1;return!0},h.nan=function(a){return!h.number(a)||a!==a},h.even=function(a){return h.infinite(a)||h.number(a)&&a===a&&0===a%2},h.odd=function(a){return h.infinite(a)||h.number(a)&&a===a&&0!==a%2},h.ge=function(a,b){if(f(a)||f(b))throw new TypeError("NaN is not a valid value");return!h.infinite(a)&&!h.infinite(b)&&a>=b},h.gt=function(a,b){if(f(a)||f(b))throw new TypeError("NaN is not a valid value");return!h.infinite(a)&&!h.infinite(b)&&a>b},h.le=function(a,b){if(f(a)||f(b))throw new TypeError("NaN is not a valid value");return!h.infinite(a)&&!h.infinite(b)&&b>=a},h.lt=function(a,b){if(f(a)||f(b))throw new TypeError("NaN is not a valid value");return!h.infinite(a)&&!h.infinite(b)&&b>a},h.within=function(a,b,c){if(f(a)||f(b)||f(c))throw new TypeError("NaN is not a valid value");if(!h.number(a)||!h.number(b)||!h.number(c))throw new TypeError("all arguments must be numbers");var d=h.infinite(a)||h.infinite(b)||h.infinite(c);return d||a>=b&&c>=a},h.object=function(a){return a&&"[object Object]"===e.call(a)},h.hash=function(a){return h.object(a)&&a.constructor===Object&&!a.nodeType&&!a.setInterval},h.regexp=function(a){return"[object RegExp]"===e.call(a)},h.string=function(a){return"[object String]"===e.call(a)}},{}]},{},[4]);